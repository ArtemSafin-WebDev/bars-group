{"version":3,"sources":["main.js"],"names":["test","navigator","userAgent","window","MSStream","onload","styles","css","document","createElement","type","styleSheet","cssText","appendChild","createTextNode","getElementsByTagName","ImDigits","_state","currentIndex","touchStartX","touchStartY","animating","_getRealIndex","index","this","_getRealCount","_getNumsCount","$","length","_getDirection","nextIndex","_setInitialPosition","self","count","_moveNumsToItem","_setRightRebasePos","_setVisibleState","addClass","_setReadyState","setTimeout","_cloneNumsItems","$_","$numsCrop","find","$numsList","$numsItem","cropWidth","width","listWidth","factor","Math","ceil","i","clone","appendTo","_slideToItem","currIndex","$nextNumsItem","eq","$nextPicsItem","$nextTextItem","$nextTextValue","$nextTextDesc","$currNumsItem","$currPicsItem","$currTextItem","$currTextValue","$currTextDesc","$aboutItem","direction","removeClass","$fakeNumsItem","position","offset","left","distance","transform","parseFloat","attr","remove","_rebaseAtEdges","$items","maxIndex","min","listOffset","penultOffset","last","prev","rightEdge","_initImagerJs","Imager","availableWidths","availablePixelRatios","onImagesReplaced","selector","each","src","parent","background-image","_handleNumClick","e","data","preventDefault","_handlePrevClick","_handleNextClick","_handleWindowResize","_handleTouchStart","originalEvent","touches","clientX","_handleTouchMove","deltaX","deltaY","clientY","abs","_bindUI","on","init","ImOverview","isUserActivityHandled","_startVideoLoading","load","_handleUserActivity","Modernizr","video","lowbandwidth","bind","_handleCanPlayEvent","objectFitPolyfill","play","_handleLinkClick","closest","$navItems","$aboutItems","$navBodies","collapse","$bgItems","nextStartPos","currEndPos","opacity","one","trigger","ImSlider","maxListWidth","maxScrollLeft","lastRangeValue","_calcDimensions","_getMaxListWidth","_getMaxScrollLeft","maxWidth","$lastItem","max","$scrollBox","currScrollLeft","scrollLeft","_setGridLinesWidth","_initRangeSlider","$range","rangeslider","polyfill","onInit","html","onSlide","_","throttle","value","hasClass","_handleMouseOver","$video","_handleMouseOut","pause","_handleSliderScroll","rangeValue","round","val","change","App","_isFontsReady","_handleDOMReady","timer","setInterval","clearInterval","getScrollbarWidth","ready"],"mappings":"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","file":"main.min.js","sourcesContent":["/*!\n * THIS FILE IS GENERATED BY GULP PROJECT. \n * NEVER CHANGE IT MANUALLY, OTHERWISE YOUR CHANGES \n * CAN BE OVERWRITTEN. \n * \n * @description \n * @repository git@bitbucket.org:ildar-meyker/html-barsgroup.git\n */\n\n(function () {\n\n\tvar iOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n\n\tif (!iOS) return;\n\n\tfunction appendStyle(styles) {\n\t  var css = document.createElement('style');\n\t  css.type = 'text/css';\n\n\t  if (css.styleSheet) css.styleSheet.cssText = styles;\n\t  else css.appendChild(document.createTextNode(styles));\n\n\t  document.getElementsByTagName(\"head\")[0].appendChild(css);\n\t}\n\n\tvar styles = '* {cursor: pointer; }';\n\n\twindow.onload = function() { appendStyle(styles) };\n\n})();\n\nvar ImDigits = {\n\n\t_state: {\n\t\tcurrentIndex: null,\n\t\ttouchStartX: null,\n\t\ttouchStartY: null,\n\t\tanimating: false\n\t},\n\n\t_getRealIndex: function (index) {\n\t\tvar self = this;\n\n\t\treturn index % self._getRealCount(); \n\t},\n\n\t_getNumsCount: function () {\n\t\treturn $('#im-digits .im-digits__nums__item').length;\n\t},\n\n\t_getRealCount: function () {\n\t\treturn $('#im-digits .im-digits__pics__item').length;\n\t},\n\n\t_getDirection: function (nextIndex) {\n\t\tvar self = this;\n\n\t\tvar currentIndex = self._state.currentIndex;\n\t\treturn (nextIndex > currentIndex) ? 'left' : 'right';\n\t},\n\n\t_setInitialPosition: function () {\n\t\tvar self = this;\n\n\t\tvar count = self._getRealCount();\n\n\t\tself._state.currentIndex = count;\n\t\tself._moveNumsToItem(count);\n\t},\n\n\t_setRightRebasePos: function () {\n\t\tvar self = this;\n\n\t\tvar count = self._getRealCount();\n\t\tvar nextIndex = self._state.currentIndex - count;\n\n\t\tself._state.currentIndex = nextIndex;\n\t\tself._moveNumsToItem(nextIndex);\n\t},\n\n\t_setVisibleState: function () {\n\t\t$('#im-digits').addClass('_visible');\n\t},\n\n\t_setReadyState: function () {\n\t\tsetTimeout(function () {\n\t\t\t$('#im-digits').addClass('_ready');\n\t\t}, 20);\n\t},\n\n\t_cloneNumsItems: function () {\n\t\tvar self = this;\n\n\t\tvar $_ = $('#im-digits');\n\t\tvar $numsCrop = $_.find('.im-digits__nums__crop');\n\t\tvar $numsList = $_.find('.im-digits__nums__list');\n\t\tvar $numsItem = $_.find('.im-digits__nums__item');\n\t\tvar cropWidth = $numsCrop.width();\n\t\tvar listWidth = $numsList.width();\n\t\tvar factor = Math.ceil(cropWidth / listWidth) + 1;\n\n\t\tfor (var i = 0; i < factor; i++) {\n\t\t\t$numsItem.clone().appendTo($numsList);\n\t\t}\n\t},\n\n\t_slideToItem: function (index) {\n\t\tvar self = this;\n\n\t\tif ( self._state.animating ) return;\n\t\tself._state.animating = true;\n\n\t\t// indexes\n\t\tvar currIndex = self._state.currentIndex;\n\t\tvar nextIndex = index;\n\n\t\t// elements\n\t\tvar $_ = $('#im-digits');\n\t\tvar $numsCrop = $_.find('.im-digits__nums__crop');\n\t\t\n\t\tvar $nextNumsItem = $_.find('.im-digits__nums__item').eq(nextIndex);\n\t\tvar $nextPicsItem = $_.find('.im-digits__pics__item').eq(self._getRealIndex(nextIndex));\n\t\tvar $nextTextItem = $_.find('.im-digits__text__item').eq(self._getRealIndex(nextIndex));\n\t\tvar $nextTextValue = $nextTextItem.find('.im-digits__text__value');\n\t\tvar $nextTextDesc = $nextTextItem.find('.im-digits__text__desc');\n\n\t\tvar $currNumsItem = $_.find('.im-digits__nums__item').eq(currIndex);\n\t\tvar $currPicsItem = $_.find('.im-digits__pics__item').eq(self._getRealIndex(currIndex));\n\t\tvar $currTextItem = $_.find('.im-digits__text__item').eq(self._getRealIndex(currIndex));\n\t\tvar $currTextValue = $currTextItem.find('.im-digits__text__value');\n\t\tvar $currTextDesc = $currTextItem.find('.im-digits__text__desc');\n\n\t\tvar $aboutItem = $_.find('.im-digits__about__item');\n\n\t\t// direction\n\t\tvar direction = self._getDirection(index);\n\n\t\t$aboutItem.eq(self._getRealIndex(currIndex)).removeClass('_active');\n\t\t\n\t\tsetTimeout(function () {\n\t\t\t$aboutItem.eq(self._getRealIndex(nextIndex)).addClass('_active');\n\t\t}, 0);\n\n\t\tswitch (direction) {\n\t\t\tcase 'left': \n\n\t\t\t\t// create fake copy of next num item\n\t\t\t\tvar $fakeNumsItem = $nextNumsItem.clone();\n\t\t\t\tvar position = $nextNumsItem.offset().left - $numsCrop.offset().left;\n\t\t\t\t$fakeNumsItem.addClass('_fixed').css({'left': position}).appendTo($numsCrop);\n\t\t\t\t$nextNumsItem.addClass('_hidden');\n\n\t\t\t\t// get the distance we will animate\n\t\t\t\tvar distance = $fakeNumsItem.offset().left - $nextTextValue.offset().left;\n\t\t\t\t\n\t\t\t\t// set next text value to start position\n\t\t\t\t$nextTextValue.css({'transform': 'translateX(' + distance + 'px)'});\n\n\t\t\t\t// hide things\n\t\t\t\t$currTextDesc.addClass('_fadeOutLeft');\n\t\t\t\t$currTextValue.addClass('_fadeOutLeft');\n\n\t\t\t\t// show things\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t$nextPicsItem.addClass('_active _cover _fadeInImage');\n\t\t\t\t\t$nextTextDesc.addClass('_fadeInRight');\n\t\t\t\t\t$nextTextValue.addClass('_ready').css({'transform': 'translateX(0)'});\n\t\t\t\t\t$nextTextItem.addClass('_active');\n\t\t\t\t\t$fakeNumsItem.css({'transform': 'translateX(-' + distance + 'px)'});\n\t\t\t\t\tself._moveNumsToItem(nextIndex);\n\t\t\t\t}, 0);\n\n\t\t\tbreak;\n\t\t\tcase 'right':\n\n\t\t\t\t// create fake copy of next num item\n\t\t\t\tvar $fakeNumsItem = $currNumsItem.clone();\n\t\t\t\tvar position = $currTextValue.offset().left - $numsCrop.offset().left;\n\t\t\t\t$fakeNumsItem.addClass('_fixed').css({'left': position}).appendTo($numsCrop);\n\t\t\t\t$currNumsItem.addClass('_hidden');\n\n\t\t\t\t// get the distance we will animate\n\t\t\t\tvar distance = $numsCrop.offset().left - $currTextValue.offset().left + \n\t\t\t\t\tparseFloat($currNumsItem.css('margin-left'));\n\n\t\t\t\t// hide things\n\t\t\t\t$currTextDesc.addClass('_fadeOutRight');\n\t\t\t\t$currTextValue.addClass('_ready').css({'transform': 'translateX(' + distance + 'px)'});\n\t\t\t\t$fakeNumsItem.css({'transform': 'translateX(' + distance + 'px)'});\n\t\t\t\tself._moveNumsToItem(nextIndex);\n\n\t\t\t\t// show things\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t$nextPicsItem.addClass('_active _cover _fadeInImage');\n\t\t\t\t\t$nextTextDesc.addClass('_fadeInLeft');\n\t\t\t\t\t$nextTextValue.addClass('_fadeInLeft');\n\t\t\t\t\t$nextTextItem.addClass('_active');\n\t\t\t\t}, 0);\n\n\t\t\tbreak;\n\t\t}\n\n\t\tsetTimeout(function () {\n\n\t\t\t// clear transition classes\n\t\t\t$currPicsItem.removeClass('_active');\n\t\t\t$currTextItem.removeClass('_active');\n\t\t\t$currTextDesc.removeClass('_fadeOutLeft _fadeOutRight');\n\t\t\t$currTextValue.removeClass('_ready _fadeOutLeft').attr('style', '');\n\t\t\t$currNumsItem.removeClass('_hidden');\n\n\t\t\t$nextPicsItem.removeClass('_cover _fadeInImage');\n\t\t\t$nextTextDesc.removeClass('_fadeInRight _fadeInLeft');\n\t\t\t$nextTextValue.removeClass('_ready _fadeInLeft').attr('style', '');\n\t\t\t$nextNumsItem.removeClass('_hidden');\n\t\t\t\n\t\t\t$fakeNumsItem.remove();\n\n\t\t\t// allow animating\n\t\t\tself._state.animating = false;\n\t\t\tself._state.currentIndex = nextIndex;\n\n\t\t\t// rebase, if no side clones\n\t\t\tself._rebaseAtEdges();\n\t\t}, 700);\n\n\t},\n\n\t_moveNumsToItem: function (index) {\n\t\tvar self = this;\n\n\t\t// сложить ширину и отступ всех элементов до текущего \n\t\tvar $items = $('#im-digits .im-digits__nums__item');\n\t\tvar maxIndex = Math.min(index, self._getNumsCount() - 1);\n\t\tvar listOffset = 0;\n\n\t\tfor (var i = 0; i <= maxIndex; i++) {\n\t\t\tlistOffset += parseFloat($items.eq(i).width());\n\t\t\tlistOffset += parseFloat($items.eq(i).css('margin-left'));\n\t\t}\n\t\t\n\t\tvar $list = $('#im-digits .im-digits__nums__list');\n\t\t$list.css({'transform': 'translateX(-' + listOffset + 'px)'});\n\t},\n\n\t_rebaseAtEdges: function () {\n\t\tvar self = this;\n\n\t\tvar $_ = $('#im-digits');\n\t\tvar $numsCrop = $_.find('.im-digits__nums__crop');\n\t\tvar $numsItem = $_.find('.im-digits__nums__item');\n\t\tvar penultOffset = $numsItem .last().prev().offset().left;\n\t\tvar rightEdge = $numsCrop.offset().left + $numsCrop.width();\n\t\tvar currIndex = self._state.currentIndex;\n\n\t\tif (currIndex == 0 || penultOffset < rightEdge) {\n\t\t\t$('#im-digits').removeClass('_ready');\n\n\t\t\tif (currIndex == 0) {\n\t\t\t\tself._setInitialPosition();\n\t\t\t} else {\n\t\t\t\tself._setRightRebasePos();\n\t\t\t}\n\t\t\tsetTimeout(function () {\n\t\t\t\t$('#im-digits').addClass('_ready');\n\t\t\t}, 20);\n\t\t} \n\t},\n\n\t_initImagerJs: function () {\n\t\tnew Imager('#im-digits .im-digits__pics__item img', { \n\t\t\tavailableWidths: [600, 1000], \n\t\t\tavailablePixelRatios: [1, 2],\n\t\t\tonImagesReplaced: function () {\n\t\t\t\t$(this.selector).each(function () {\n\t\t\t\t\tvar src = $(this).attr('src');\n\t\t\t\t\t$(this).parent().css({ 'background-image': 'url(' + src + ')' });\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\n\t_handleNumClick: function (e) {\n\t\tvar self = e.data.self;\n\n\t\te.preventDefault();\n\n\t\tvar nextIndex = $(this).index();\n\t\tself._slideToItem(nextIndex);\n\t},\n\n\t_handlePrevClick: function (e) {\n\t\tvar self = e.data.self;\n\n\t\te.preventDefault();\n\n\t\tvar nextIndex = self._state.currentIndex - 1;\n\t\tself._slideToItem(nextIndex);\n\t},\n\n\t_handleNextClick: function (e) {\n\t\tvar self = e.data.self;\n\n\t\te.preventDefault();\n\n\t\tvar nextIndex = self._state.currentIndex + 1;\n\t\tself._slideToItem(nextIndex);\n\t},\n\n\t_handleWindowResize: function (e) {\n\t\tvar self = e.data.self;\n\n\t\tvar currIndex = self._state.currentIndex;\n\t\tself._moveNumsToItem(currIndex);\n\t},\n\n\t_handleTouchStart: function (e) {\n\t\tvar self = e.data.self;\n\n\t\tself._state.touchStartX = e.originalEvent.touches[0].clientX;\n\t\tself._state.touchStartY = e.originalEvent.touches[0].clientX;\n\t},\n\n\t_handleTouchMove: function (e) {\n\t\tvar self = e.data.self;\n\n\t\tvar touchStartX = self._state.touchStartX;\n\t\tvar touchStartY = self._state.touchStartY;\n\n\t\tvar deltaX = touchStartX - e.originalEvent.touches[0].clientX;\n\t\tvar deltaY = touchStartY - e.originalEvent.touches[0].clientY;\n\t\t\n\t\tif (Math.abs(deltaX) > 100 && Math.abs(deltaX) > Math.abs(deltaY)) {\n\t\t\tif (deltaX > 0) {\n\t\t\t\t// swipe left\n\t\t\t\tvar nextIndex = self._state.currentIndex + 1;\n\t\t\t} else {\n\t\t\t\t// swipe right\n\t\t\t\tvar nextIndex = self._state.currentIndex - 1;\n\t\t\t}\n\t\t\tself._slideToItem(nextIndex);\n\t\t}\n\t},\n\n\t_bindUI: function () {\n\t\tvar self = this;\n\n\t\t$(document).on('click', '.im-digits__nums__item', {self: self}, self._handleNumClick);\n\t\t$(document).on('click', '.im-digits__prev', {self: self}, self._handlePrevClick);\n\t\t$(document).on('click', '.im-digits__next', {self: self}, self._handleNextClick);\n\t\t$(document).on('touchstart', '.im-digits__center', {self: self}, self._handleTouchStart);\n\t\t$(document).on('touchmove', '.im-digits__center', {self: self}, self._handleTouchMove);\n\t\t$(window).on('resize orientationchange', {self: self}, self._handleWindowResize);\n\t},\n\n\tinit: function () {\n\t\tvar self = this;\n\n\t\tif ( $('#im-digits').length == 0 ) return;\n\n\t\tself._initImagerJs();\n\t\tself._cloneNumsItems();\n\t\tself._setInitialPosition();\n\t\tself._setVisibleState();\n\t\tself._setReadyState();\n\n\t\tself._bindUI();\n\t}\n\n};\n\n\nvar ImOverview = {\n\n\t_state: {\n\t\tisUserActivityHandled: false,\n\t\tcurrIndex: null\n\t},\n\n\t_initImagerJs: function () {\n\t\tnew Imager('#im-overview .im-overview__bg__image img', { \n\t\t\tavailableWidths: [600, 1000], \n\t\t\tavailablePixelRatios: [1, 2],\n\t\t\tonImagesReplaced: function () {\n\t\t\t\t$(this.selector).each(function () {\n\t\t\t\t\tvar src = $(this).attr('src');\n\t\t\t\t\t$(this).parent().css({ 'background-image': 'url(' + src + ')' });\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\n\t_startVideoLoading: function () {\n\t\tvar self = this;\n\n\t\t$('#im-overview video').each(function () {\n\t\t\t$(this)[0].load();\n\t\t});\n\t},\n\n\t_handleUserActivity: function (e) {\n\t\tvar self = e.data.self;\n\n\t\tif ( self._state.isUserActivityHandled ) return;\n\t\tif ( !Modernizr.video || Modernizr.lowbandwidth ) return;\n\n\t\tself._state.isUserActivityHandled = true;\n\t\tsetTimeout(self._startVideoLoading.bind(self), 100);\n\t},\n\n\t_handleCanPlayEvent: function (e) {\n\t\tvar self = e.data.self;\n\n\t\tobjectFitPolyfill(this);\n\t\t$(this).addClass('_active');\n\t\t$(this)[0].play()\n\t},\n\n\t_handleLinkClick: function (e) {\n\t\tvar self = e.data.self;\n\n\t\te.preventDefault();\n\t\t\n\t\tvar nextIndex = $(this).closest('.im-overview__nav__item').index();\n\t\tvar currIndex = self._state.currIndex;\n\n\t\tif (nextIndex == currIndex) return;\n\n\t\tvar $_ = $('#im-overview');\n\n\t\t// set active nav item\n\t\tvar $navItems = $_.find('.im-overview__nav__item');\n\t\t$navItems.eq(currIndex).removeClass('_active');\n\t\t$navItems.eq(nextIndex).addClass('_active');\n\n\t\t// set active about item\n\t\tvar $aboutItems = $_.find('.im-overview__about__item');\n\t\t$aboutItems.eq(currIndex).removeClass('_active');\n\t\t$aboutItems.eq(nextIndex).addClass('_active');\n\n\t\t// collapse bodies\n\t\tvar $navBodies = $_.find('.im-overview__nav__body');\n\t\t$navBodies.eq(currIndex).collapse('hide');\n\t\t$navBodies.eq(nextIndex).collapse('show');\n\n\t\t// set active bg item\n\t\tvar $bgItems = $_.find('.im-overview__bg__item');\n\t\tif (nextIndex > currIndex) {\n\t\t\t// slide down\n\t\t\tvar nextStartPos = -80;\n\t\t\tvar currEndPos = 0;\n\t\t} else {\n\t\t\t// slide up\n\t\t\tvar nextStartPos = 0;\n\t\t\tvar currEndPos = -80;\n\t\t}\n\n\t\t$bgItems.eq(nextIndex).removeClass('_animate').css({\n\t\t\ttransform: 'translateY(' + nextStartPos + 'px)',\n\t\t\topacity: 0\n\t\t});\n\n\t\tsetTimeout(function () {\n\n\t\t\t$bgItems.eq(currIndex).css({\n\t\t\t\ttransform: 'translateY(' + currEndPos + 'px)',\n\t\t\t\topacity: 0\n\t\t\t});\n\n\t\t\t$bgItems.eq(nextIndex).addClass('_animate').css({\n\t\t\t\ttransform: 'translateY(-40px)',\n\t\t\t\topacity: 1\n\t\t\t});\n\n\t\t}, 20);\n\n\t\t\n\n\t\tself._state.currIndex = nextIndex;\n\t\t\n\t},\n\n\t_bindUI: function () {\n\t\tvar self = this;\n\n\t\t$('.im-overview__bg__video').on('canplaythrough', {self: self}, self._handleCanPlayEvent);\n\t\t$(document).one('click touchstart', {self: self}, self._handleUserActivity);\n\t\t$(document).on('click', '.im-overview__nav__link', {self: self}, self._handleLinkClick);\n\t},\n\n\tinit: function () {\n\t\tvar self = this;\n\n\t\tif ( $('#im-overview').length == 0 ) return;\n\n\t\tself._initImagerJs();\n\t\tself._bindUI();\n\n\t\t$('body').trigger('click');\n\t}\n\n};\n\nvar ImSlider = {\n\n\t_state: {\n\t\tisUserActivityHandled: false,\n\t\tmaxListWidth: null,\n\t\tmaxScrollLeft: null,\n\t\tlastRangeValue: null\n\t},\n\n\t_calcDimensions: function () {\n\t\tvar self = this;\n\n\t\tself._state.maxListWidth = self._getMaxListWidth();\n\t\tself._state.maxScrollLeft = self._getMaxScrollLeft();\n\t},\n\n\t_getMaxListWidth: function () {\n\t\tvar self = this;\n\n\t\tvar maxWidth = 0;\n\t\t$('#im-slider .im-slider__list').each(function () {\n\t\t\tvar $lastItem = $(this).find('.im-slider__item').last();\n\t\t\tvar listOffset = $(this).offset().left;\n\t\t\tvar itemOffset = $lastItem.offset().left;\n\t\t\tvar itemWidth = $lastItem.width();\n\t\t\tvar listWidth = itemOffset - listOffset + itemWidth;\n\t\t\tmaxWidth = Math.max(maxWidth, listWidth);\n\t\t});\n\t\treturn maxWidth;\n\t},\n\n\t_getMaxScrollLeft: function () {\n\t\tvar $scrollBox = $('#im-slider .im-slider__scroll');\n\t\tvar currScrollLeft = $scrollBox.scrollLeft();\n\t\t$scrollBox.scrollLeft(100000);\n\t\tvar maxScrollLeft = $scrollBox.scrollLeft();\n\t\t$scrollBox.scrollLeft(currScrollLeft);\n\t\treturn maxScrollLeft;\n\t},\n\n\t_setGridLinesWidth: function () {\n\t\tvar self = this;\n\n\t\t$('#im-slider .im-slider__line').width(self._state.maxListWidth);\n\t},\n\n\t_initImagerJs: function () {\n\t\tnew Imager('#im-slider .im-slider__bg__image img', { \n\t\t\tavailableWidths: [600, 1000], \n\t\t\tavailablePixelRatios: [1, 2],\n\t\t\tonImagesReplaced: function () {\n\t\t\t\t$(this.selector).each(function () {\n\t\t\t\t\tvar src = $(this).attr('src');\n\t\t\t\t\t$(this).parent().css({ 'background-image': 'url(' + src + ')' });\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\n\t_initRangeSlider: function () {\n\t\tvar self = this;\n\n\t\tvar $range = $('#im-slider .im-slider__range');\n\t\t$range.find('input').rangeslider({\n\t\t\tpolyfill: false,\n\t\t\tonInit: function () {\n\t\t\t\t$range.find('.rangeslider__handle').html('<i></i><i></i><i></i>');\n\t\t\t},\n\t\t\tonSlide: _.throttle(function(position, value) {\n\t\t\t\tif (value == self._state.lastRangeValue) return;\n\t\t\t\tself._state.lastRangeValue = value;\n\t\t\t\t\n\t\t\t\tvar isHandleActive = $range.find('.rangeslider').hasClass('rangeslider--active');\n\t\t\t\tif (!isHandleActive) return;\n\n\t\t\t\tvar scrollLeft = self._state.maxScrollLeft / 1000 * value; \n\t\t\t\t$('#im-slider .im-slider__scroll').scrollLeft(scrollLeft);\n\t\t\t}, 50)\n\t\t});\n\n\t},\n\n\t_startVideoLoading: function () {\n\t\tvar self = this;\n\n\t\t$('#im-slider video').each(function () {\n\t\t\t$(this)[0].load();\n\t\t});\n\t},\n\n\t_handleUserActivity: function (e) {\n\t\tvar self = e.data.self;\n\n\t\tif ( self._state.isUserActivityHandled ) return;\n\t\tif ( !Modernizr.video || Modernizr.lowbandwidth ) return;\n\n\t\tself._state.isUserActivityHandled = true;\n\t\tsetTimeout(self._startVideoLoading.bind(self), 100);\n\t},\n\n\t_handleCanPlayEvent: function (e) {\n\t\tvar self = e.data.self;\n\n\t\tobjectFitPolyfill(this);\n\t\t$(this).addClass('_active');\n\t},\n\n\t_handleMouseOver: function (e) {\n\t\tvar self = e.data.self;\n\n\t\tvar $video = $(this).find('video._active');\n\t\tif ($video.length) {\n\t\t\t$video[0].play();\n\t\t}\n\t},\n\n\t_handleMouseOut: function (e) {\n\t\tvar self = e.data.self;\n\n\t\tvar $video = $(this).find('video._active');\n\t\tif ($video.length) {\n\t\t\t$video[0].pause();\n\t\t}\n\t},\n\n\t_handleWindowResize: function (e) {\n\t\tvar self = e.data.self;\n\n\t\tself._calcDimensions();\n\t\tself._setGridLinesWidth();\n\t},\n\n\t_handleSliderScroll: function (e) {\n\t\tvar self = e.data.self;\n\n\t\tvar scrollLeft = $('#im-slider .im-slider__scroll').scrollLeft();\n\t\tvar rangeValue = Math.round(1000 * scrollLeft / self._state.maxScrollLeft);\n\t\t$('#im-slider .im-slider__range input').val(rangeValue).change();\n\t},\n\n\t_bindUI: function () {\n\t\tvar self = this;\n\n\t\t$('.im-slider__scroll').on('scroll', {self: self}, _.throttle(self._handleSliderScroll, 50));\n\t\t$('.im-slider__bg__video').on('canplaythrough', {self: self}, self._handleCanPlayEvent);\n\t\t$(document).one('click touchstart', {self: self}, self._handleUserActivity);\n\t\t$(document).on('mouseover', '.im-slider__item', {self: self}, self._handleMouseOver);\n\t\t$(document).on('mouseout', '.im-slider__item', {self: self}, self._handleMouseOut);\n\t\t$(window).on('resize orientationchange', {self: self}, self._handleWindowResize);\n\t},\n\n\tinit: function () {\n\t\tvar self = this;\n\n\t\tif ( $('#im-slider').length == 0 ) return;\n\n\t\tself._calcDimensions();\n\t\tself._setGridLinesWidth();\n\t\tself._initRangeSlider();\n\t\tself._initImagerJs();\n\t\tself._bindUI();\n\n\t\t$('body').trigger('click');\n\t}\n\n};\nvar App = {\n\n\t_isFontsReady: function () {\n\t\treturn $('html').hasClass('wf-active');\n\t},\n\n\t_handleDOMReady: function () {\n\t\tvar self = this;\n\n\t\tvar timer = setInterval(function () {\n\t\t\tif ( self._isFontsReady() ) {\n\t\t\t\tclearInterval(timer);\n\n\t\t\t\t// init modules here\n\t\t\t\tImDigits.init();\n\t\t\t\tImOverview.init();\n\t\t\t\tImSlider.init();\n\n\t\t\t\tif (getScrollbarWidth() == 0) {\n\t\t\t\t\t$(\"html\").addClass('hidden-scrollbar');\n\t\t\t\t}\n\t\t\t}\n\t\t}, 20);\n\t},\n\n\t_bindUI: function () {\n\t\tvar self = this;\n\n\t\t$(document).ready(self._handleDOMReady.bind(self));\n\t},\n\n\tinit: function () {\n\t\tvar self = this;\n\n\t\tself._bindUI();\n\t}\n};\n\nApp.init();"]}
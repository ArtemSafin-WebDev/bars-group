{"version":3,"sources":["main.js"],"names":["test","navigator","userAgent","window","MSStream","onload","styles","css","document","createElement","type","styleSheet","cssText","appendChild","createTextNode","getElementsByTagName","Digits","_state","currentIndex","touchStartX","touchStartY","animating","_getRealIndex","index","this","_getRealCount","_getNumsCount","$","length","_getDirection","nextIndex","_setInitialPosition","self","count","_moveNumsToItem","_setRightRebasePos","_setVisibleState","addClass","_setReadyState","setTimeout","_cloneNumsItems","$_","$numsCrop","find","$numsList","$numsItem","cropWidth","width","listWidth","factor","Math","ceil","i","clone","appendTo","_slideToItem","currIndex","$nextNumsItem","eq","$nextPicsItem","$nextTextItem","$nextTextValue","$nextTextDesc","$currNumsItem","$currPicsItem","$currTextItem","$currTextValue","$currTextDesc","$aboutItem","direction","removeClass","$fakeNumsItem","position","offset","left","distance","transform","parseFloat","attr","remove","_rebaseAtEdges","$items","maxIndex","min","listOffset","penultOffset","last","prev","rightEdge","_handleNumClick","e","data","preventDefault","_handlePrevClick","_handleNextClick","_handleWindowResize","_handleTouchStart","originalEvent","touches","clientX","_handleTouchMove","deltaX","deltaY","clientY","abs","_bindUI","on","init","Overview","isUserActivityHandled","_startVideoLoading","each","load","_handleUserActivity","Modernizr","video","lowbandwidth","bind","_handleCanPlayEvent","objectFitPolyfill","play","_handleLinkClick","closest","$navItems","$aboutItems","$navBodies","collapse","$bgItems","nextStartPos","currEndPos","opacity","one","trigger","GanttSlider","_GANTT_ITEM_WIDTH","_GANTT_SCENE_HEIGHT","_GANTT_EDGE_OFFSET","_PATTERN_ITEMS","_PATTERN_WIDTH","randomItems","isGanttView","savedSceneHeight","maxScrollLeft","lastRangeValue","_switchToGanttView","$scroll","$scene","l","currTop","parseInt","top","currLeft","scrollLeft","ganttTop","_getGanttItemTopPos","_getGanttItemLeftPos","height","_makeScrollCalcs","_switchToLinesView","_fillRandomItems","lines","items","counter","makeArray","reverse","push","viewed","forEach","line","pop","_convertToPatternIndex","floor","$lines","lineOffset","gridWidth","maxWidth","$lastItem","lineWidth","max","lastItemMargin","_initRangeSlider","$range","rangeslider","polyfill","onInit","html","onSlide","_","throttle","value","hasClass","_handleMouseOver","$video","_handleMouseOut","pause","_handleSliderScroll","rangeValue","round","val","change","_handleToggleButton","Header","_adjustMoreItem","$more","$crop","cropOffset","lastIndex","moreOffset","show","hide","_handleMoreClick","toggleClass","_handleDocumentClick","moreSelector","target","News","sly","_setSliderWidth","$wrapper","$slider","wrapperOffset","sliderWidth","_initSlider","Sly","horizontal","itemNav","speed","mouseDragging","touchDragging","releaseSwing","_handleNextButton","toStart","_handlePrevButton","reload","_handleMoveEnd","Button","_handleButtonMouseover","_handleButtonMouseout","App","_isFontsReady","_initImagerJs","Imager","availableWidths","availablePixelRatios","onImagesReplaced","selector","src","parent","background-image","_handleDOMReady","timer","setInterval","clearInterval","getScrollbarWidth","ready"],"mappings":";;;;;;;;CACA,WAIA,GAFA,mBAAAA,KAAAC,UAAAC,aAAAC,OAAAC,SAEA,CAMAD,OAAAE,OAAA,WAJA,IAAAC,EAPAC,EAOAD,EAEA,yBATAC,EAAAC,SAAAC,cAAA,UACAC,KAAA,WAEAH,EAAAI,WAAAJ,EAAAI,WAAAC,QAAAN,EACAC,EAAAM,YAAAL,SAAAM,eAAAR,IAEAE,SAAAO,qBAAA,QAAA,GAAAF,YAAAN,KALA,GAcA,IAAAS,OAAA,CAEAC,OAAA,CACAC,aAAA,KACAC,YAAA,KACAC,YAAA,KACAC,WAAA,GAGAC,cAAA,SAAAC,GAGA,OAAAA,EAFAC,KAEAC,iBAGAC,cAAA,WACA,OAAAC,EAAA,+BAAAC,QAGAH,cAAA,WACA,OAAAE,EAAA,+BAAAC,QAGAC,cAAA,SAAAC,GAIA,OAHAN,KAEAP,OAAAC,aACAY,EAAA,OAAA,SAGAC,oBAAA,WACA,IAAAC,EAAAR,KAEAS,EAAAD,EAAAP,gBAEAO,EAAAf,OAAAC,aAAAe,EACAD,EAAAE,gBAAAD,IAGAE,mBAAA,WACA,IAAAH,EAAAR,KAEAS,EAAAD,EAAAP,gBACAK,EAAAE,EAAAf,OAAAC,aAAAe,EAEAD,EAAAf,OAAAC,aAAAY,EACAE,EAAAE,gBAAAJ,IAGAM,iBAAA,WACAT,EAAA,WAAAU,SAAA,aAGAC,eAAA,WACAC,WAAA,WACAZ,EAAA,WAAAU,SAAA,WACA,KAGAG,gBAAA,WAWA,IAVA,IAEAC,EAAAd,EAAA,WACAe,EAAAD,EAAAE,KAAA,uBACAC,EAAAH,EAAAE,KAAA,uBACAE,EAAAJ,EAAAE,KAAA,uBACAG,EAAAJ,EAAAK,QACAC,EAAAJ,EAAAG,QACAE,EAAAC,KAAAC,KAAAL,EAAAE,GAAA,EAEAI,EAAA,EAAAA,EAAAH,EAAAG,IACAP,EAAAQ,QAAAC,SAAAV,IAIAW,aAAA,SAAAhC,GACA,IAAAS,EAAAR,KAEA,IAAAQ,EAAAf,OAAAI,UAAA,CACAW,EAAAf,OAAAI,WAAA,EAGA,IAAAmC,EAAAxB,EAAAf,OAAAC,aACAY,EAAAP,EAGAkB,EAAAd,EAAA,WACAe,EAAAD,EAAAE,KAAA,uBAEAc,EAAAhB,EAAAE,KAAA,uBAAAe,GAAA5B,GACA6B,EAAAlB,EAAAE,KAAA,uBAAAe,GAAA1B,EAAAV,cAAAQ,IACA8B,EAAAnB,EAAAE,KAAA,uBAAAe,GAAA1B,EAAAV,cAAAQ,IACA+B,EAAAD,EAAAjB,KAAA,wBACAmB,EAAAF,EAAAjB,KAAA,uBAEAoB,EAAAtB,EAAAE,KAAA,uBAAAe,GAAAF,GACAQ,EAAAvB,EAAAE,KAAA,uBAAAe,GAAA1B,EAAAV,cAAAkC,IACAS,EAAAxB,EAAAE,KAAA,uBAAAe,GAAA1B,EAAAV,cAAAkC,IACAU,EAAAD,EAAAtB,KAAA,wBACAwB,EAAAF,EAAAtB,KAAA,uBAEAyB,EAAA3B,EAAAE,KAAA,wBAGA0B,EAAArC,EAAAH,cAAAN,GAQA,OANA6C,EAAAV,GAAA1B,EAAAV,cAAAkC,IAAAc,YAAA,WAEA/B,WAAA,WACA6B,EAAAV,GAAA1B,EAAAV,cAAAQ,IAAAO,SAAA,YACA,GAEAgC,GACA,IAAA,OAGA,IAAAE,EAAAd,EAAAJ,QACAmB,EAAAf,EAAAgB,SAAAC,KAAAhC,EAAA+B,SAAAC,KACAH,EAAAlC,SAAA,UAAA9B,IAAA,CAAAmE,KAAAF,IAAAlB,SAAAZ,GACAe,EAAApB,SAAA,WAGA,IAAAsC,EAAAJ,EAAAE,SAAAC,KAAAb,EAAAY,SAAAC,KAGAb,EAAAtD,IAAA,CAAAqE,UAAA,cAAAD,EAAA,QAGAR,EAAA9B,SAAA,gBACA6B,EAAA7B,SAAA,gBAGAE,WAAA,WACAoB,EAAAtB,SAAA,+BACAyB,EAAAzB,SAAA,gBACAwB,EAAAxB,SAAA,UAAA9B,IAAA,CAAAqE,UAAA,kBACAhB,EAAAvB,SAAA,WACAkC,EAAAhE,IAAA,CAAAqE,UAAA,eAAAD,EAAA,QACA3C,EAAAE,gBAAAJ,IACA,GAEA,MACA,IAAA,QAGAyC,EAAAR,EAAAV,QACAmB,EAAAN,EAAAO,SAAAC,KAAAhC,EAAA+B,SAAAC,KACAH,EAAAlC,SAAA,UAAA9B,IAAA,CAAAmE,KAAAF,IAAAlB,SAAAZ,GACAqB,EAAA1B,SAAA,WAGAsC,EAAAjC,EAAA+B,SAAAC,KAAAR,EAAAO,SAAAC,KACAG,WAAAd,EAAAxD,IAAA,gBAGA4D,EAAA9B,SAAA,iBACA6B,EAAA7B,SAAA,UAAA9B,IAAA,CAAAqE,UAAA,cAAAD,EAAA,QACAJ,EAAAhE,IAAA,CAAAqE,UAAA,cAAAD,EAAA,QACA3C,EAAAE,gBAAAJ,GAGAS,WAAA,WACAoB,EAAAtB,SAAA,+BACAyB,EAAAzB,SAAA,eACAwB,EAAAxB,SAAA,eACAuB,EAAAvB,SAAA,YACA,GAKAE,WAAA,WAGAyB,EAAAM,YAAA,WACAL,EAAAK,YAAA,WACAH,EAAAG,YAAA,8BACAJ,EAAAI,YAAA,uBAAAQ,KAAA,QAAA,IACAf,EAAAO,YAAA,WAEAX,EAAAW,YAAA,uBACAR,EAAAQ,YAAA,4BACAT,EAAAS,YAAA,sBAAAQ,KAAA,QAAA,IACArB,EAAAa,YAAA,WAEAC,EAAAQ,SAGA/C,EAAAf,OAAAI,WAAA,EACAW,EAAAf,OAAAC,aAAAY,EAGAE,EAAAgD,kBACA,OAIA9C,gBAAA,SAAAX,GAQA,IAPA,IAGA0D,EAAAtD,EAAA,+BACAuD,EAAAhC,KAAAiC,IAAA5D,EAJAC,KAIAE,gBAAA,GACA0D,EAAA,EAEAhC,EAAA,EAAAA,GAAA8B,EAAA9B,IACAgC,GAAAP,WAAAI,EAAAvB,GAAAN,GAAAL,SACAqC,GAAAP,WAAAI,EAAAvB,GAAAN,GAAA7C,IAAA,gBAGAoB,EAAA,+BACApB,IAAA,CAAAqE,UAAA,eAAAQ,EAAA,SAGAJ,eAAA,WACA,IAEAvC,EAAAd,EAAA,WACAe,EAAAD,EAAAE,KAAA,uBAEA0C,EADA5C,EAAAE,KAAA,uBACA2C,OAAAC,OAAAd,SAAAC,KACAc,EAAA9C,EAAA+B,SAAAC,KAAAhC,EAAAK,QACAS,EAPAhC,KAOAP,OAAAC,cAEA,GAAAsC,GAAA6B,EAAAG,KACA7D,EAAA,WAAA2C,YAAA,UAEA,GAAAd,EAZAhC,KAaAO,sBAbAP,KAeAW,qBAEAI,WAAA,WACAZ,EAAA,WAAAU,SAAA,WACA,MAIAoD,gBAAA,SAAAC,GACA,IAAA1D,EAAA0D,EAAAC,KAAA3D,KAEA0D,EAAAE,iBAEA,IAAA9D,EAAAH,EAAAH,MAAAD,QACAS,EAAAuB,aAAAzB,IAGA+D,iBAAA,SAAAH,GACA,IAAA1D,EAAA0D,EAAAC,KAAA3D,KAEA0D,EAAAE,iBAEA,IAAA9D,EAAAE,EAAAf,OAAAC,aAAA,EACAc,EAAAuB,aAAAzB,IAGAgE,iBAAA,SAAAJ,GACA,IAAA1D,EAAA0D,EAAAC,KAAA3D,KAEA0D,EAAAE,iBAEA,IAAA9D,EAAAE,EAAAf,OAAAC,aAAA,EACAc,EAAAuB,aAAAzB,IAGAiE,oBAAA,SAAAL,GACA,IAAA1D,EAAA0D,EAAAC,KAAA3D,KAEAwB,EAAAxB,EAAAf,OAAAC,aACAc,EAAAE,gBAAAsB,IAGAwC,kBAAA,SAAAN,GACA,IAAA1D,EAAA0D,EAAAC,KAAA3D,KAEAA,EAAAf,OAAAE,YAAAuE,EAAAO,cAAAC,QAAA,GAAAC,QACAnE,EAAAf,OAAAG,YAAAsE,EAAAO,cAAAC,QAAA,GAAAC,SAGAC,iBAAA,SAAAV,GACA,IAAA1D,EAAA0D,EAAAC,KAAA3D,KAEAb,EAAAa,EAAAf,OAAAE,YACAC,EAAAY,EAAAf,OAAAG,YAEAiF,EAAAlF,EAAAuE,EAAAO,cAAAC,QAAA,GAAAC,QACAG,EAAAlF,EAAAsE,EAAAO,cAAAC,QAAA,GAAAK,QAEA,GAAA,IAAArD,KAAAsD,IAAAH,IAAAnD,KAAAsD,IAAAH,GAAAnD,KAAAsD,IAAAF,GAAA,CACA,GAAA,EAAAD,EAEA,IAAAvE,EAAAE,EAAAf,OAAAC,aAAA,OAGAY,EAAAE,EAAAf,OAAAC,aAAA,EAEAc,EAAAuB,aAAAzB,KAIA2E,QAAA,WACA,IAAAzE,EAAAR,KAEAG,EAAAnB,UAAAkG,GAAA,QAAA,sBAAA,CAAA1E,KAAAA,GAAAA,EAAAyD,iBACA9D,EAAAnB,UAAAkG,GAAA,QAAA,0BAAA,CAAA1E,KAAAA,GAAAA,EAAA6D,kBACAlE,EAAAnB,UAAAkG,GAAA,QAAA,0BAAA,CAAA1E,KAAAA,GAAAA,EAAA8D,kBACAnE,EAAAnB,UAAAkG,GAAA,aAAA,kBAAA,CAAA1E,KAAAA,GAAAA,EAAAgE,mBACArE,EAAAnB,UAAAkG,GAAA,YAAA,kBAAA,CAAA1E,KAAAA,GAAAA,EAAAoE,kBACAzE,EAAAxB,QAAAuG,GAAA,2BAAA,CAAA1E,KAAAA,GAAAA,EAAA+D,sBAGAY,KAAA,WACA,IAAA3E,EAAAR,KAEA,GAAAG,EAAA,WAAAC,SAEAI,EAAAQ,kBACAR,EAAAD,sBACAC,EAAAI,mBACAJ,EAAAM,iBAEAN,EAAAyE,aAMAG,SAAA,CAEA3F,OAAA,CACA4F,uBAAA,EACArD,UAAA,MAGAsD,mBAAA,WAGAnF,EAAA,mBAAAoF,KAAA,WACApF,EAAAH,MAAA,GAAAwF,UAIAC,oBAAA,SAAAvB,GACA,IAAA1D,EAAA0D,EAAAC,KAAA3D,KAEAA,EAAAf,OAAA4F,uBACAK,UAAAC,QAAAD,UAAAE,eAEApF,EAAAf,OAAA4F,uBAAA,EACAtE,WAAAP,EAAA8E,mBAAAO,KAAArF,GAAA,OAGAsF,oBAAA,SAAA5B,GACAA,EAAAC,KAAA3D,KAEAuF,kBAAA/F,MACAG,EAAAH,MAAAa,SAAA,WACAV,EAAAH,MAAA,GAAAgG,QAGAC,iBAAA,SAAA/B,GACA,IAAA1D,EAAA0D,EAAAC,KAAA3D,KAEA0D,EAAAE,iBAEA,IAAA9D,EAAAH,EAAAH,MAAAkG,QAAA,wBAAAnG,QACAiC,EAAAxB,EAAAf,OAAAuC,UAEA,GAAA1B,GAAA0B,EAAA,CAEA,IAAAf,EAAAd,EAAA,aAGAgG,EAAAlF,EAAAE,KAAA,wBACAgF,EAAAjE,GAAAF,GAAAc,YAAA,WACAqD,EAAAjE,GAAA5B,GAAAO,SAAA,WAGA,IAAAuF,EAAAnF,EAAAE,KAAA,0BACAiF,EAAAlE,GAAAF,GAAAc,YAAA,WACAsD,EAAAlE,GAAA5B,GAAAO,SAAA,WAGA,IAAAwF,EAAApF,EAAAE,KAAA,wBACAkF,EAAAnE,GAAAF,GAAAsE,SAAA,QACAD,EAAAnE,GAAA5B,GAAAgG,SAAA,QAGA,IAAAC,EAAAtF,EAAAE,KAAA,uBACA,GAAAa,EAAA1B,EAEA,IAAAkG,GAAA,GACAC,EAAA,OAGAD,EAAA,EACAC,GAAA,GAGAF,EAAArE,GAAA5B,GAAAwC,YAAA,YAAA/D,IAAA,CACAqE,UAAA,cAAAoD,EAAA,MACAE,QAAA,IAGA3F,WAAA,WAEAwF,EAAArE,GAAAF,GAAAjD,IAAA,CACAqE,UAAA,cAAAqD,EAAA,MACAC,QAAA,IAGAH,EAAArE,GAAA5B,GAAAO,SAAA,YAAA9B,IAAA,CACAqE,UAAA,oBACAsD,QAAA,KAGA,IAIAlG,EAAAf,OAAAuC,UAAA1B,IAIA2E,QAAA,WACA,IAAAzE,EAAAR,KAEAG,EAAA,wBAAA+E,GAAA,iBAAA,CAAA1E,KAAAA,GAAAA,EAAAsF,qBACA3F,EAAAnB,UAAA2H,IAAA,mBAAA,CAAAnG,KAAAA,GAAAA,EAAAiF,qBACAtF,EAAAnB,UAAAkG,GAAA,QAAA,uBAAA,CAAA1E,KAAAA,GAAAA,EAAAyF,mBAGAd,KAAA,WAGA,GAAAhF,EAAA,aAAAC,SAFAJ,KAIAiF,UAEA9E,EAAA,QAAAyG,QAAA,YAKAC,YAAA,CAEAC,kBAAA,IACAC,oBAAA,IACAC,mBAAA,GAEAC,eAAA,CAAA,CAAA,IAAA,IAAA,CAAA,GAAA,KAAA,CAAA,IAAA,KAAA,CAAA,IAAA,MAAA,CAAA,IAAA,MAAA,CAAA,IAAA,MAAA,CAAA,IAAA,OACAC,eAAA,KAEAzH,OAAA,CACA0H,YAAA,GACA9B,uBAAA,EACA+B,aAAA,EACAC,iBAAA,KACAC,cAAA,KACAC,eAAA,MAGAC,mBAAA,WAWA,IAVA,IAAAhH,EAAAR,KAEAiB,EAAAd,EAAA,iBACAsH,EAAAxG,EAAAE,KAAA,yBACAuG,EAAAzG,EAAAE,KAAA,wBAGAgG,EAAA3G,EAAAf,OAAA0H,YAGAvF,EAAA,EAAA+F,EAAAR,EAAA/G,OAAAwB,EAAA+F,EAAA/F,IAAA,CAEA,IAAAgG,EAAAC,SAAA1H,EAAAgH,EAAAvF,IAAAqB,SAAA6E,IAAAL,EAAAxE,SAAA6E,KACAC,EAAAF,SAAA1H,EAAAgH,EAAAvF,IAAAqB,SAAAC,KAAAuE,EAAAO,cAGAC,EAAAzH,EAAA0H,oBAAAtG,GAMAwB,EAAA,gBALA5C,EAAA2H,qBAAAvG,GAIAmG,GACA,OAFAE,EAAAL,GAEA,QAEAzH,EAAAgH,EAAAvF,IAAAT,KAAA,6BAAApC,IAAA,CACAqE,UAAAA,EACA7B,MAAAf,EAAAsG,oBAKAtG,EAAAf,OAAA2H,aAAA,EACA5G,EAAAf,OAAA4H,iBAAAK,EAAAU,SACAV,EAAAU,OAAA5H,EAAAf,OAAA4H,kBACAK,EAAAU,OAAA5H,EAAAuG,qBACA5G,EAAA,iBAAAU,SAAA,4BACAL,EAAA6H,oBAQAC,mBAAA,WACAtI,KAEAP,OAAA2H,aAAA,EACAjH,EAAA,sCAAAiI,OAHApI,KAGAP,OAAA4H,kBACAlH,EAAA,2CAAAmD,KAAA,QAAA,IACAnD,EAAA,iBAAA2C,YAAA,4BALA9C,KAMAqI,mBAEAtH,WAAA,WACAZ,EAAA,sCAAAmD,KAAA,QAAA,KACA,MAKAiF,iBAAA,WACA,IAEAC,EAAA,GACAC,EAAA,GACAC,EAAA,EAGAvI,EAAA,qCAAAoF,KAAA,WACA,IAAAkD,EAAAtI,EAAAwI,UAAAxI,EAAAH,MAAAmB,KAAA,wBAAAyH,UACAF,GAAAD,EAAArI,OACAoI,EAAAK,KAAAJ,KAKA,IADA,IAAAK,EAAA,EACAA,EAAAJ,GACAF,EAAAO,QAAA,SAAAC,GACA,GAAAA,EAAA5I,SACAqI,EAAAI,KAAAG,EAAAC,OACAH,OAnBA9I,KAuBAP,OAAA0H,YAAAsB,GAGAP,oBAAA,SAAAnI,GAGA,OAFAC,KAEAiH,eAFAjH,KAEAkJ,uBAAAnJ,IAAA,IAGAoI,qBAAA,SAAApI,GACA,IAEA0B,EAAAC,KAAAyH,MAAApJ,EAFAC,KAEAiH,eAAA7G,QACA,OAHAJ,KAGAiH,eAHAjH,KAGAkJ,uBAAAnJ,IAAA,GAHAC,KAGAkH,eAAAzF,GAGAyH,uBAAA,SAAAnJ,GAGA,OAAAA,EAFAC,KAEAiH,eAAA7G,QAGAiI,iBAAA,WACA,IAAA7H,EAAAR,KAEAyH,EAAAtH,EAAA,uCACAiJ,EAAAjJ,EAAA,qCACAkJ,EAAAD,EAAAnG,SAAAC,KAAAuE,EAAAO,aAEA,GAAAxH,EAAAf,OAAA2H,YAGA,IAIAE,GAHAgC,EADA9I,EAAA2H,qBAAA3H,EAAAf,OAAA0H,YAAA/G,OAAA,GACAiJ,EAAA7I,EAAAsG,kBAAAtG,EAAAwG,oBAGAqC,EAAAlJ,EAAAxB,QAAA4C,YAEA,CAGA,IAAAgI,EAAA,EAEAH,EAAA7D,KAAA,WACA,IAAAiE,EAAArJ,EAAAH,MAAAmB,KAAA,uBAAA2C,OACA2F,EAAAD,EAAAvG,SAAAC,KAAAmG,EAAAG,EAAAjI,QACAgI,EAAA7H,KAAAgI,IAAAH,EAAAE,KAGA,IAAAH,EAAAC,EAGAI,EAAA9B,SAAA1H,EAAA,qCAAA2D,OAAA/E,IAAA,iBACAuI,EAAAgC,EAAAD,EAAAM,EAAAxJ,EAAAxB,QAAA4C,QAGApB,EAAA,qCAAAoB,MAAA+H,GAEAhC,EAAA,IAAAA,EAAA,GACA9G,EAAAf,OAAA6H,cAAAA,GAIAsC,iBAAA,WACA,IAAApJ,EAAAR,KAEA6J,EAAA1J,EAAA,sCACA0J,EAAA1I,KAAA,SAAA2I,YAAA,CACAC,UAAA,EACAC,OAAA,WACAH,EAAA1I,KAAA,wBAAA8I,KAAA,0BAEAC,QAAAC,EAAAC,SAAA,SAAApH,EAAAqH,GACA,GAAAA,GAAA7J,EAAAf,OAAA8H,iBACA/G,EAAAf,OAAA8H,eAAA8C,EAEAR,EAAA1I,KAAA,gBAAAmJ,SAAA,wBACA,CAEA,IAAAtC,EAAAxH,EAAAf,OAAA6H,cAAA,IAAA+C,EACAlK,EAAA,uCAAA6H,WAAAA,KACA,OAKA1C,mBAAA,WAGAnF,EAAA,uBAAAoF,KAAA,WACApF,EAAAH,MAAA,GAAAwF,UAIAC,oBAAA,SAAAvB,GACA,IAAA1D,EAAA0D,EAAAC,KAAA3D,KAEAA,EAAAf,OAAA4F,uBACAK,UAAAC,QAAAD,UAAAE,eAEApF,EAAAf,OAAA4F,uBAAA,EACAtE,WAAAP,EAAA8E,mBAAAO,KAAArF,GAAA,OAGAsF,oBAAA,SAAA5B,GACAA,EAAAC,KAAA3D,KAEAuF,kBAAA/F,MACAG,EAAAH,MAAAa,SAAA,YAGA0J,iBAAA,SAAArG,GACAA,EAAAC,KAAA3D,KAAA,IAEAgK,EAAArK,EAAAH,MAAAmB,KAAA,iBACAqJ,EAAApK,QACAoK,EAAA,GAAAxE,QAIAyE,gBAAA,SAAAvG,GACAA,EAAAC,KAAA3D,KAAA,IAEAgK,EAAArK,EAAAH,MAAAmB,KAAA,iBACAqJ,EAAApK,QACAoK,EAAA,GAAAE,SAIAnG,oBAAA,SAAAL,GACAA,EAAAC,KAAA3D,KAEA6H,oBAGAsC,oBAAA,SAAAzG,GACA,IAAA1D,EAAA0D,EAAAC,KAAA3D,KAEAwH,EAAA7H,EAAA,uCAAA6H,aACA4C,EAAAlJ,KAAAmJ,MAAA,IAAA7C,EAAAxH,EAAAf,OAAA6H,eACAnH,EAAA,4CAAA2K,IAAAF,GAAAG,UAGAC,oBAAA,SAAA9G,GACA,IAAA1D,EAAA0D,EAAAC,KAAA3D,KAEAA,EAAAf,OAAA2H,YACA5G,EAAA8H,qBAEA9H,EAAAgH,sBAIAvC,QAAA,WACA,IAAAzE,EAAAR,KAEAG,EAAA,yBAAA+E,GAAA,SAAA,CAAA1E,KAAAA,GAAA2J,EAAAC,SAAA5J,EAAAmK,oBAAA,KACAxK,EAAA,4BAAA+E,GAAA,iBAAA,CAAA1E,KAAAA,GAAAA,EAAAsF,qBACA3F,EAAAnB,UAAA2H,IAAA,mBAAA,CAAAnG,KAAAA,GAAAA,EAAAiF,qBACAtF,EAAAnB,UAAAkG,GAAA,YAAA,sBAAA,CAAA1E,KAAAA,GAAAA,EAAA+J,kBACApK,EAAAnB,UAAAkG,GAAA,WAAA,sBAAA,CAAA1E,KAAAA,GAAAA,EAAAiK,iBACAtK,EAAAnB,UAAAkG,GAAA,QAAA,wBAAA,CAAA1E,KAAAA,GAAAA,EAAAwK,qBACA7K,EAAAxB,QAAAuG,GAAA,2BAAA,CAAA1E,KAAAA,GAAAA,EAAA+D,sBAGAY,KAAA,WAGA,GAAAhF,EAAA,iBAAAC,SAFAJ,KAIAqI,mBAJArI,KAKA4J,mBALA5J,KAMAuI,mBANAvI,KAOAiF,UAEA9E,EAAA,QAAAyG,QAAA,YAKAqE,OAAA,CAGAC,gBAAA,WACA,IAEAjK,EAAAd,EAAA,WAGAgL,EAAAlK,EAAAE,KAAA,6BACAgK,EAAArI,YAAA,YAGA,IAAAsI,EAAAnK,EAAAE,KAAA,uBACAkK,EAAAD,EAAAnI,SAAA6E,IACArE,EAAA2H,EAAAjK,KAAA,uBACAmK,EAAA,EAEA7H,EAAA8B,KAAA,SAAAxF,GACAI,EAAAH,MAAAiD,SAAA6E,KACAuD,IACAC,EAAAvL,KAKA,IAAAyJ,EAAA/F,EAAAvB,GAAAoJ,GACA5H,EAAAD,EAAArD,OAAA,EAEA,GAAAkL,EAAA5H,EAAA,CAGA,IAIA6H,EAJA/B,EAAAvG,SAAAC,KAAAkI,EAAAnI,SAAAC,KACA2E,SAAA2B,EAAAzK,IAAA,iBACAyK,EAAAjI,QAGA4J,EAAAtK,SAAA,WAAA9B,IAAA,CAAAmE,KAAAqI,EAAA,OAGAtK,EAAAE,KAAA,mCACAoE,KAAA,SAAAxF,GACAuL,EAAAvL,EACAI,EAAAH,MAAAwL,OAEArL,EAAAH,MAAAyL,cAKAN,EAAArI,YAAA,YAKA4I,iBAAA,SAAAxH,GACAA,EAAAC,KAAA3D,KAEA0D,EAAAE,iBAEAjE,EAAA,qCAAAwL,YAAA,aAGAC,qBAAA,SAAA1H,GACAA,EAAAC,KAAA3D,KAAA,IAEAqL,EAAA,4BACA,GAAA1L,EAAA+D,EAAA4H,QAAA5F,QAAA2F,GAAAzL,QACAD,EAAA,WAAA0L,GAAA/I,YAAA,aAIAyB,oBAAA,SAAAL,GACAA,EAAAC,KAAA3D,KAEA0K,mBAGAjG,QAAA,WACA,IAAAzE,EAAAR,KAEAG,EAAAnB,UAAAkG,GAAA,QAAA,CAAA1E,KAAAA,GAAAA,EAAAoL,sBACAzL,EAAAnB,UAAAkG,GAAA,QAAA,gCAAA,CAAA1E,KAAAA,GAAAA,EAAAkL,kBACAvL,EAAAxB,QAAAuG,GAAA,2BAAA,CAAA1E,KAAAA,GAAAA,EAAA+D,sBAGAY,KAAA,WAGA,GAAAhF,EAAA,WAAAC,SAFAJ,KAIAkL,kBAJAlL,KAKAiF,aAIA8G,KAAA,CAEAtM,OAAA,CACAuM,IAAA,KACAtI,SAAA,KACA1B,UAAA,GAGAiK,gBAAA,WACA,IAEAC,EAAA/L,EAAA,YACAgM,EAAAhM,EAAA,uBACAiM,EAAAF,EAAAjJ,SAAAC,KAGAmJ,EAFAH,EAAA3K,SACA4K,EAAAlJ,SAAAC,KACAkJ,GACAD,EAAA5K,MAAA8K,IAGAC,YAAA,WACA,IAEArL,EAAAd,EAAA,SACAgM,EAAAlL,EAAAE,KAAA,iBACAF,EAAAE,KAAA,iBACAF,EAAAE,KAAA,iBALAnB,KAOAP,OAAAiE,SAAAzC,EAAAE,KAAA,eAAAf,OAAA,EAPAJ,KAQAP,OAAAuM,IAAA,IAAAO,IAAAJ,EAAA,GAAA,CACAK,WAAA,EACAC,QAAA,QACAC,MAAA,IACAC,cAAA,EACAC,cAAA,EACAC,cAAA,IACA1H,QAIA2H,kBAAA,SAAA5I,GACA,IAAA1D,EAAA0D,EAAAC,KAAA3D,KAEA0D,EAAAE,iBAEA5D,EAAAf,OAAAuC,UACA,EACAxB,EAAAf,OAAAiE,UAEAlD,EAAAf,OAAAuM,IAAAe,UAAAvM,EAAAf,OAAAuC,YAGAgL,kBAAA,SAAA9I,GACA,IAAA1D,EAAA0D,EAAAC,KAAA3D,KAEA0D,EAAAE,iBAEA5D,EAAAf,OAAAuC,UACA,EACA,GAEAxB,EAAAf,OAAAuM,IAAAe,UAAAvM,EAAAf,OAAAuC,YAGAuC,oBAAA,SAAAL,GACA,IAAA1D,EAAA0D,EAAAC,KAAA3D,KAEAA,EAAAyL,kBACAzL,EAAAf,OAAAuM,IAAAiB,UAGAC,eAAA,aAKAjI,QAAA,WACA,IAAAzE,EAAAR,KAEAG,EAAAxB,QAAAuG,GAAA,2BAAA,CAAA1E,KAAAA,GAAAA,EAAA+D,qBACApE,EAAAnB,UAAAkG,GAAA,QAAA,sBAAA,CAAA1E,KAAAA,GAAAA,EAAAsM,mBACA3M,EAAAnB,UAAAkG,GAAA,QAAA,sBAAA,CAAA1E,KAAAA,GAAAA,EAAAwM,mBACAxM,EAAAf,OAAAuM,IAAA9G,GAAA,UAAA1E,EAAA0M,eAAArH,KAAArF,KAGA2E,KAAA,WAGA,GAAAhF,EAAA,SAAAC,SAFAJ,KAIAiM,kBAJAjM,KAKAsM,cALAtM,KAMAiF,aAGAkI,OAAA,CAEAC,uBAAA,SAAAlJ,GACAA,EAAAC,KAAA3D,KAEAL,EAAAH,MAAAa,SAAA,aAGAwM,sBAAA,SAAAnJ,GACAA,EAAAC,KAAA3D,KAEAL,EAAAH,MAAA8C,YAAA,aAGAmC,QAAA,WAGA9E,EAAAnB,UAAAkG,GAAA,YAAA,UAAA,CAAA1E,KAFAR,MAAAA,KAEAoN,wBACAjN,EAAAnB,UAAAkG,GAAA,WAAA,UAAA,CAAA1E,KAHAR,MAAAA,KAGAqN,wBAGAlI,KAAA,WACAnF,KAEAiF,YAGAqI,IAAA,CAEAC,cAAA,WACA,OAAApN,EAAA,QAAAmK,SAAA,cAGAkD,cAAA,WACA,IAAAC,OAAA,qBAAA,CACAC,gBAAA,CAAA,IAAA,KACAC,qBAAA,CAAA,EAAA,GACAC,iBAAA,WACAzN,EAAAH,KAAA6N,UAAAtI,KAAA,WACA,IAAAuI,EAAA3N,EAAAH,MAAAsD,KAAA,OACAnD,EAAAH,MAAA+N,SAAAhP,IAAA,CAAAiP,mBAAA,OAAAF,EAAA,YAMAG,gBAAA,WACA,IAAAzN,EAAAR,KAEAkO,EAAAC,YAAA,WACA3N,EAAA+M,kBACAa,cAAAF,GAGA1N,EAAAgN,gBACAhO,OAAA2F,OACAC,SAAAD,OACA0B,YAAA1B,OACA8F,OAAA9F,OACA4G,KAAA5G,OACAgI,OAAAhI,OAEA,GAAAkJ,qBACAlO,EAAA,QAAAU,SAAA,sBAGA,KAGAoE,QAAA,WAGA9E,EAAAnB,UAAAsP,MAFAtO,KAEAiO,gBAAApI,KAFA7F,QAOAmF,KAAA,WACAnF,KAEAiF,YAIAqI,IAAAnI","file":"main.min.js","sourcesContent":["/*!\n * THIS FILE IS GENERATED BY GULP PROJECT. \n * NEVER CHANGE IT MANUALLY, OTHERWISE YOUR CHANGES \n * CAN BE OVERWRITTEN. \n * \n * @description \n * @repository git@bitbucket.org:ildar-meyker/html-barsgroup.git\n */\n\n(function () {\n\n\tvar iOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n\n\tif (!iOS) return;\n\n\tfunction appendStyle(styles) {\n\t  var css = document.createElement('style');\n\t  css.type = 'text/css';\n\n\t  if (css.styleSheet) css.styleSheet.cssText = styles;\n\t  else css.appendChild(document.createTextNode(styles));\n\n\t  document.getElementsByTagName(\"head\")[0].appendChild(css);\n\t}\n\n\tvar styles = '* {cursor: pointer; }';\n\n\twindow.onload = function() { appendStyle(styles) };\n\n})();\n\nvar Digits = {\n\n\t_state: {\n\t\tcurrentIndex: null,\n\t\ttouchStartX: null,\n\t\ttouchStartY: null,\n\t\tanimating: false\n\t},\n\n\t_getRealIndex: function (index) {\n\t\tvar self = this;\n\n\t\treturn index % self._getRealCount(); \n\t},\n\n\t_getNumsCount: function () {\n\t\treturn $('#digits .digits__nums__item').length;\n\t},\n\n\t_getRealCount: function () {\n\t\treturn $('#digits .digits__pics__item').length;\n\t},\n\n\t_getDirection: function (nextIndex) {\n\t\tvar self = this;\n\n\t\tvar currentIndex = self._state.currentIndex;\n\t\treturn (nextIndex > currentIndex) ? 'left' : 'right';\n\t},\n\n\t_setInitialPosition: function () {\n\t\tvar self = this;\n\n\t\tvar count = self._getRealCount();\n\n\t\tself._state.currentIndex = count;\n\t\tself._moveNumsToItem(count);\n\t},\n\n\t_setRightRebasePos: function () {\n\t\tvar self = this;\n\n\t\tvar count = self._getRealCount();\n\t\tvar nextIndex = self._state.currentIndex - count;\n\n\t\tself._state.currentIndex = nextIndex;\n\t\tself._moveNumsToItem(nextIndex);\n\t},\n\n\t_setVisibleState: function () {\n\t\t$('#digits').addClass('_visible');\n\t},\n\n\t_setReadyState: function () {\n\t\tsetTimeout(function () {\n\t\t\t$('#digits').addClass('_ready');\n\t\t}, 20);\n\t},\n\n\t_cloneNumsItems: function () {\n\t\tvar self = this;\n\n\t\tvar $_ = $('#digits');\n\t\tvar $numsCrop = $_.find('.digits__nums__crop');\n\t\tvar $numsList = $_.find('.digits__nums__list');\n\t\tvar $numsItem = $_.find('.digits__nums__item');\n\t\tvar cropWidth = $numsCrop.width();\n\t\tvar listWidth = $numsList.width();\n\t\tvar factor = Math.ceil(cropWidth / listWidth) + 1;\n\n\t\tfor (var i = 0; i < factor; i++) {\n\t\t\t$numsItem.clone().appendTo($numsList);\n\t\t}\n\t},\n\n\t_slideToItem: function (index) {\n\t\tvar self = this;\n\n\t\tif ( self._state.animating ) return;\n\t\tself._state.animating = true;\n\n\t\t// indexes\n\t\tvar currIndex = self._state.currentIndex;\n\t\tvar nextIndex = index;\n\n\t\t// elements\n\t\tvar $_ = $('#digits');\n\t\tvar $numsCrop = $_.find('.digits__nums__crop');\n\t\t\n\t\tvar $nextNumsItem = $_.find('.digits__nums__item').eq(nextIndex);\n\t\tvar $nextPicsItem = $_.find('.digits__pics__item').eq(self._getRealIndex(nextIndex));\n\t\tvar $nextTextItem = $_.find('.digits__text__item').eq(self._getRealIndex(nextIndex));\n\t\tvar $nextTextValue = $nextTextItem.find('.digits__text__value');\n\t\tvar $nextTextDesc = $nextTextItem.find('.digits__text__desc');\n\n\t\tvar $currNumsItem = $_.find('.digits__nums__item').eq(currIndex);\n\t\tvar $currPicsItem = $_.find('.digits__pics__item').eq(self._getRealIndex(currIndex));\n\t\tvar $currTextItem = $_.find('.digits__text__item').eq(self._getRealIndex(currIndex));\n\t\tvar $currTextValue = $currTextItem.find('.digits__text__value');\n\t\tvar $currTextDesc = $currTextItem.find('.digits__text__desc');\n\n\t\tvar $aboutItem = $_.find('.digits__about__item');\n\n\t\t// direction\n\t\tvar direction = self._getDirection(index);\n\n\t\t$aboutItem.eq(self._getRealIndex(currIndex)).removeClass('_active');\n\t\t\n\t\tsetTimeout(function () {\n\t\t\t$aboutItem.eq(self._getRealIndex(nextIndex)).addClass('_active');\n\t\t}, 0);\n\n\t\tswitch (direction) {\n\t\t\tcase 'left': \n\n\t\t\t\t// create fake copy of next num item\n\t\t\t\tvar $fakeNumsItem = $nextNumsItem.clone();\n\t\t\t\tvar position = $nextNumsItem.offset().left - $numsCrop.offset().left;\n\t\t\t\t$fakeNumsItem.addClass('_fixed').css({'left': position}).appendTo($numsCrop);\n\t\t\t\t$nextNumsItem.addClass('_hidden');\n\n\t\t\t\t// get the distance we will animate\n\t\t\t\tvar distance = $fakeNumsItem.offset().left - $nextTextValue.offset().left;\n\t\t\t\t\n\t\t\t\t// set next text value to start position\n\t\t\t\t$nextTextValue.css({'transform': 'translateX(' + distance + 'px)'});\n\n\t\t\t\t// hide things\n\t\t\t\t$currTextDesc.addClass('_fadeOutLeft');\n\t\t\t\t$currTextValue.addClass('_fadeOutLeft');\n\n\t\t\t\t// show things\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t$nextPicsItem.addClass('_active _cover _fadeInImage');\n\t\t\t\t\t$nextTextDesc.addClass('_fadeInRight');\n\t\t\t\t\t$nextTextValue.addClass('_ready').css({'transform': 'translateX(0)'});\n\t\t\t\t\t$nextTextItem.addClass('_active');\n\t\t\t\t\t$fakeNumsItem.css({'transform': 'translateX(-' + distance + 'px)'});\n\t\t\t\t\tself._moveNumsToItem(nextIndex);\n\t\t\t\t}, 0);\n\n\t\t\tbreak;\n\t\t\tcase 'right':\n\n\t\t\t\t// create fake copy of next num item\n\t\t\t\tvar $fakeNumsItem = $currNumsItem.clone();\n\t\t\t\tvar position = $currTextValue.offset().left - $numsCrop.offset().left;\n\t\t\t\t$fakeNumsItem.addClass('_fixed').css({'left': position}).appendTo($numsCrop);\n\t\t\t\t$currNumsItem.addClass('_hidden');\n\n\t\t\t\t// get the distance we will animate\n\t\t\t\tvar distance = $numsCrop.offset().left - $currTextValue.offset().left + \n\t\t\t\t\tparseFloat($currNumsItem.css('margin-left'));\n\n\t\t\t\t// hide things\n\t\t\t\t$currTextDesc.addClass('_fadeOutRight');\n\t\t\t\t$currTextValue.addClass('_ready').css({'transform': 'translateX(' + distance + 'px)'});\n\t\t\t\t$fakeNumsItem.css({'transform': 'translateX(' + distance + 'px)'});\n\t\t\t\tself._moveNumsToItem(nextIndex);\n\n\t\t\t\t// show things\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t$nextPicsItem.addClass('_active _cover _fadeInImage');\n\t\t\t\t\t$nextTextDesc.addClass('_fadeInLeft');\n\t\t\t\t\t$nextTextValue.addClass('_fadeInLeft');\n\t\t\t\t\t$nextTextItem.addClass('_active');\n\t\t\t\t}, 0);\n\n\t\t\tbreak;\n\t\t}\n\n\t\tsetTimeout(function () {\n\n\t\t\t// clear transition classes\n\t\t\t$currPicsItem.removeClass('_active');\n\t\t\t$currTextItem.removeClass('_active');\n\t\t\t$currTextDesc.removeClass('_fadeOutLeft _fadeOutRight');\n\t\t\t$currTextValue.removeClass('_ready _fadeOutLeft').attr('style', '');\n\t\t\t$currNumsItem.removeClass('_hidden');\n\n\t\t\t$nextPicsItem.removeClass('_cover _fadeInImage');\n\t\t\t$nextTextDesc.removeClass('_fadeInRight _fadeInLeft');\n\t\t\t$nextTextValue.removeClass('_ready _fadeInLeft').attr('style', '');\n\t\t\t$nextNumsItem.removeClass('_hidden');\n\t\t\t\n\t\t\t$fakeNumsItem.remove();\n\n\t\t\t// allow animating\n\t\t\tself._state.animating = false;\n\t\t\tself._state.currentIndex = nextIndex;\n\n\t\t\t// rebase, if no side clones\n\t\t\tself._rebaseAtEdges();\n\t\t}, 700);\n\n\t},\n\n\t_moveNumsToItem: function (index) {\n\t\tvar self = this;\n\n\t\t// сложить ширину и отступ всех элементов до текущего \n\t\tvar $items = $('#digits .digits__nums__item');\n\t\tvar maxIndex = Math.min(index, self._getNumsCount() - 1);\n\t\tvar listOffset = 0;\n\n\t\tfor (var i = 0; i <= maxIndex; i++) {\n\t\t\tlistOffset += parseFloat($items.eq(i).width());\n\t\t\tlistOffset += parseFloat($items.eq(i).css('margin-left'));\n\t\t}\n\t\t\n\t\tvar $list = $('#digits .digits__nums__list');\n\t\t$list.css({'transform': 'translateX(-' + listOffset + 'px)'});\n\t},\n\n\t_rebaseAtEdges: function () {\n\t\tvar self = this;\n\n\t\tvar $_ = $('#digits');\n\t\tvar $numsCrop = $_.find('.digits__nums__crop');\n\t\tvar $numsItem = $_.find('.digits__nums__item');\n\t\tvar penultOffset = $numsItem .last().prev().offset().left;\n\t\tvar rightEdge = $numsCrop.offset().left + $numsCrop.width();\n\t\tvar currIndex = self._state.currentIndex;\n\n\t\tif (currIndex == 0 || penultOffset < rightEdge) {\n\t\t\t$('#digits').removeClass('_ready');\n\n\t\t\tif (currIndex == 0) {\n\t\t\t\tself._setInitialPosition();\n\t\t\t} else {\n\t\t\t\tself._setRightRebasePos();\n\t\t\t}\n\t\t\tsetTimeout(function () {\n\t\t\t\t$('#digits').addClass('_ready');\n\t\t\t}, 20);\n\t\t} \n\t},\n\n\t_handleNumClick: function (e) {\n\t\tvar self = e.data.self;\n\n\t\te.preventDefault();\n\n\t\tvar nextIndex = $(this).index();\n\t\tself._slideToItem(nextIndex);\n\t},\n\n\t_handlePrevClick: function (e) {\n\t\tvar self = e.data.self;\n\n\t\te.preventDefault();\n\n\t\tvar nextIndex = self._state.currentIndex - 1;\n\t\tself._slideToItem(nextIndex);\n\t},\n\n\t_handleNextClick: function (e) {\n\t\tvar self = e.data.self;\n\n\t\te.preventDefault();\n\n\t\tvar nextIndex = self._state.currentIndex + 1;\n\t\tself._slideToItem(nextIndex);\n\t},\n\n\t_handleWindowResize: function (e) {\n\t\tvar self = e.data.self;\n\n\t\tvar currIndex = self._state.currentIndex;\n\t\tself._moveNumsToItem(currIndex);\n\t},\n\n\t_handleTouchStart: function (e) {\n\t\tvar self = e.data.self;\n\n\t\tself._state.touchStartX = e.originalEvent.touches[0].clientX;\n\t\tself._state.touchStartY = e.originalEvent.touches[0].clientX;\n\t},\n\n\t_handleTouchMove: function (e) {\n\t\tvar self = e.data.self;\n\n\t\tvar touchStartX = self._state.touchStartX;\n\t\tvar touchStartY = self._state.touchStartY;\n\n\t\tvar deltaX = touchStartX - e.originalEvent.touches[0].clientX;\n\t\tvar deltaY = touchStartY - e.originalEvent.touches[0].clientY;\n\t\t\n\t\tif (Math.abs(deltaX) > 100 && Math.abs(deltaX) > Math.abs(deltaY)) {\n\t\t\tif (deltaX > 0) {\n\t\t\t\t// swipe left\n\t\t\t\tvar nextIndex = self._state.currentIndex + 1;\n\t\t\t} else {\n\t\t\t\t// swipe right\n\t\t\t\tvar nextIndex = self._state.currentIndex - 1;\n\t\t\t}\n\t\t\tself._slideToItem(nextIndex);\n\t\t}\n\t},\n\n\t_bindUI: function () {\n\t\tvar self = this;\n\n\t\t$(document).on('click', '.digits__nums__item', {self: self}, self._handleNumClick);\n\t\t$(document).on('click', '#digits .js-digits-prev', {self: self}, self._handlePrevClick);\n\t\t$(document).on('click', '#digits .js-digits-next', {self: self}, self._handleNextClick);\n\t\t$(document).on('touchstart', '.digits__center', {self: self}, self._handleTouchStart);\n\t\t$(document).on('touchmove', '.digits__center', {self: self}, self._handleTouchMove);\n\t\t$(window).on('resize orientationchange', {self: self}, self._handleWindowResize);\n\t},\n\n\tinit: function () {\n\t\tvar self = this;\n\n\t\tif ( $('#digits').length == 0 ) return;\n\n\t\tself._cloneNumsItems();\n\t\tself._setInitialPosition();\n\t\tself._setVisibleState();\n\t\tself._setReadyState();\n\n\t\tself._bindUI();\n\t}\n\n};\n\n\nvar Overview = {\n\n\t_state: {\n\t\tisUserActivityHandled: false,\n\t\tcurrIndex: null\n\t},\n\n\t_startVideoLoading: function () {\n\t\tvar self = this;\n\n\t\t$('#overview video').each(function () {\n\t\t\t$(this)[0].load();\n\t\t});\n\t},\n\n\t_handleUserActivity: function (e) {\n\t\tvar self = e.data.self;\n\n\t\tif ( self._state.isUserActivityHandled ) return;\n\t\tif ( !Modernizr.video || Modernizr.lowbandwidth ) return;\n\n\t\tself._state.isUserActivityHandled = true;\n\t\tsetTimeout(self._startVideoLoading.bind(self), 100);\n\t},\n\n\t_handleCanPlayEvent: function (e) {\n\t\tvar self = e.data.self;\n\n\t\tobjectFitPolyfill(this);\n\t\t$(this).addClass('_active');\n\t\t$(this)[0].play()\n\t},\n\n\t_handleLinkClick: function (e) {\n\t\tvar self = e.data.self;\n\n\t\te.preventDefault();\n\t\t\n\t\tvar nextIndex = $(this).closest('.overview__nav__item').index();\n\t\tvar currIndex = self._state.currIndex;\n\n\t\tif (nextIndex == currIndex) return;\n\n\t\tvar $_ = $('#overview');\n\n\t\t// set active nav item\n\t\tvar $navItems = $_.find('.overview__nav__item');\n\t\t$navItems.eq(currIndex).removeClass('_active');\n\t\t$navItems.eq(nextIndex).addClass('_active');\n\n\t\t// set active about item\n\t\tvar $aboutItems = $_.find('.overview__about__item');\n\t\t$aboutItems.eq(currIndex).removeClass('_active');\n\t\t$aboutItems.eq(nextIndex).addClass('_active');\n\n\t\t// collapse bodies\n\t\tvar $navBodies = $_.find('.overview__nav__body');\n\t\t$navBodies.eq(currIndex).collapse('hide');\n\t\t$navBodies.eq(nextIndex).collapse('show');\n\n\t\t// set active bg item\n\t\tvar $bgItems = $_.find('.overview__bg__item');\n\t\tif (nextIndex > currIndex) {\n\t\t\t// slide down\n\t\t\tvar nextStartPos = -80;\n\t\t\tvar currEndPos = 0;\n\t\t} else {\n\t\t\t// slide up\n\t\t\tvar nextStartPos = 0;\n\t\t\tvar currEndPos = -80;\n\t\t}\n\n\t\t$bgItems.eq(nextIndex).removeClass('_animate').css({\n\t\t\ttransform: 'translateY(' + nextStartPos + 'px)',\n\t\t\topacity: 0\n\t\t});\n\n\t\tsetTimeout(function () {\n\n\t\t\t$bgItems.eq(currIndex).css({\n\t\t\t\ttransform: 'translateY(' + currEndPos + 'px)',\n\t\t\t\topacity: 0\n\t\t\t});\n\n\t\t\t$bgItems.eq(nextIndex).addClass('_animate').css({\n\t\t\t\ttransform: 'translateY(-40px)',\n\t\t\t\topacity: 1\n\t\t\t});\n\n\t\t}, 20);\n\n\t\t\n\n\t\tself._state.currIndex = nextIndex;\n\t\t\n\t},\n\n\t_bindUI: function () {\n\t\tvar self = this;\n\n\t\t$('.overview__bg__video').on('canplaythrough', {self: self}, self._handleCanPlayEvent);\n\t\t$(document).one('click touchstart', {self: self}, self._handleUserActivity);\n\t\t$(document).on('click', '.overview__nav__link', {self: self}, self._handleLinkClick);\n\t},\n\n\tinit: function () {\n\t\tvar self = this;\n\n\t\tif ( $('#overview').length == 0 ) return;\n\n\t\tself._bindUI();\n\n\t\t$('body').trigger('click');\n\t}\n\n};\n\nvar GanttSlider = {\n\n\t_GANTT_ITEM_WIDTH: 510,\n\t_GANTT_SCENE_HEIGHT: 600,\n\t_GANTT_EDGE_OFFSET: 60,\n\n\t_PATTERN_ITEMS: [[310, 60], [25, 355], [200, 775], [370, 1070], [100, 1435], [410, 1760], [120, 2115]],\n\t_PATTERN_WIDTH: 2440,\n\n\t_state: {\n\t\trandomItems: [],\n\t\tisUserActivityHandled: false,\n\t\tisGanttView: false,\n\t\tsavedSceneHeight: null,\n\t\tmaxScrollLeft: null,\n\t\tlastRangeValue: null\n\t},\n\n\t_switchToGanttView: function () {\n\t\tvar self = this;\n\n\t\tvar $_ = $('#gantt-slider');\n\t\tvar $scroll = $_.find('.gantt-slider__scroll');\n\t\tvar $scene  = $_.find('.gantt-slider__scene');\n\n\t\t// get items to walk through\n\t\tvar randomItems = self._state.randomItems;\n\n\t\t// calculate and set items positions \n\t\tfor (var i = 0, l = randomItems.length; i < l; i++) {\n\t\t\t// get item's position in 'lines' view\n\t\t\tvar currTop     = parseInt($(randomItems[i]).offset().top - $scroll.offset().top);\n\t\t\tvar currLeft    = parseInt($(randomItems[i]).offset().left + $scroll.scrollLeft());\n\n\t\t\t// get item's position in 'gantt' view\n\t\t\tvar ganttTop    = self._getGanttItemTopPos(i); \n\t\t\tvar ganttLeft   = self._getGanttItemLeftPos(i);\n\n\t\t\t// get item's transform value\n\t\t\tvar topOffset  = ganttTop  - currTop;\n\t\t\tvar leftOffset = ganttLeft - currLeft;\n\t\t\tvar transform  = 'translate3d(' + leftOffset + 'px,' + topOffset + 'px,0)';\n\n\t\t\t$(randomItems[i]).find('.gantt-slider__item__body').css({\n\t\t\t\ttransform: transform,\n\t\t\t\twidth: self._GANTT_ITEM_WIDTH\n\t\t\t});\n\t\t}\n\n\t\t// change styles to gantt mode\n\t\tself._state.isGanttView = true;\n\t\tself._state.savedSceneHeight = $scene.height();\n\t\t$scene.height(self._state.savedSceneHeight);\n\t\t$scene.height(self._GANTT_SCENE_HEIGHT);\n\t\t$('#gantt-slider').addClass('gantt-slider--gantt-view');\n\t\tself._makeScrollCalcs();\n\n\t\tfunction _isPositionInViewport(left) {\n\t\t\treturn left - $scroll.scrollLeft() < $(window).width();\n\t\t}\n\n\t},\n\n\t_switchToLinesView: function () {\n\t\tvar self = this;\n\n\t\tself._state.isGanttView = false;\n\t\t$('#gantt-slider .gantt-slider__scene').height(self._state.savedSceneHeight);\n\t\t$('#gantt-slider .gantt-slider__item__body').attr('style', '');\n\t\t$('#gantt-slider').removeClass('gantt-slider--gantt-view');\n\t\tself._makeScrollCalcs();\n\n\t\tsetTimeout(function () {\n\t\t\t$('#gantt-slider .gantt-slider__scene').attr('style', '');\n\t\t}, 200);\n\t},\n\n\n\n\t_fillRandomItems: function () {\n\t\tvar self = this;\n\n\t\tvar lines = [];\n\t\tvar items = [];\n\t\tvar counter = 0;\n\n\t\t// group items by line\n\t\t$('#gantt-slider .gantt-slider__line').each(function () {\n\t\t\tvar items = $.makeArray($(this).find('.gantt-slider__item')).reverse();\n\t\t\tcounter += items.length;\n\t\t\tlines.push(items);\n\t\t});\n\n\t\t// take from each group\n\t\tvar viewed = 0;\n\t\twhile (viewed < counter) {\n\t\t\tlines.forEach(function (line) {\n\t\t\t\tif (line.length == 0) return;\n\t\t\t\titems.push(line.pop())\n\t\t\t\tviewed++;\n\t\t\t});\n\t\t};\n\n\t\tself._state.randomItems = items;\n\t},\n\n\t_getGanttItemTopPos: function (index) {\n\t\tvar self = this;\n\n\t\treturn self._PATTERN_ITEMS[self._convertToPatternIndex(index)][0];\n\t},\n\n\t_getGanttItemLeftPos: function (index) {\n\t\tvar self = this;\n\n\t\tvar factor = Math.floor(index / self._PATTERN_ITEMS.length);\n\t\treturn self._PATTERN_ITEMS[self._convertToPatternIndex(index)][1] + self._PATTERN_WIDTH * factor;\n\t},\n\n\t_convertToPatternIndex: function (index) {\n\t\tvar self = this;\n\n\t\treturn index % self._PATTERN_ITEMS.length;\n\t},\n\n\t_makeScrollCalcs: function () {\n\t\tvar self = this;\n\n\t\tvar $scroll = $('#gantt-slider .gantt-slider__scroll');\n\t\tvar $lines  = $('#gantt-slider .gantt-slider__line');\n\t\tvar lineOffset = $lines.offset().left + $scroll.scrollLeft();\n\n\t\tif (self._state.isGanttView) {\n\n\t\t\t// 1. set grid width equal to last item right edge + edge offset\n\t\t\tvar lastItemOffset = self._getGanttItemLeftPos(self._state.randomItems.length - 1);\n\t\t\tvar gridWidth = lastItemOffset - lineOffset + self._GANTT_ITEM_WIDTH + self._GANTT_EDGE_OFFSET;\n\n\t\t\t// 2. calc maxScrollLeft\n\t\t\tvar maxScrollLeft = gridWidth + lineOffset - $(window).width();\n\n\t\t} else {\n\n\t\t\t// 1. set grid width equal to max line width\n\t\t\tvar maxWidth = 0;\n\n\t\t\t$lines.each(function () {\n\t\t\t\tvar $lastItem = $(this).find('.gantt-slider__item').last();\n\t\t\t\tvar lineWidth = $lastItem.offset().left - lineOffset + $lastItem.width();\n\t\t\t\tmaxWidth = Math.max(maxWidth, lineWidth);\n\t\t\t});\n\n\t\t\tvar gridWidth = maxWidth;\n\n\t\t\t// 2. calc maxScrollLeft\n\t\t\tvar lastItemMargin = parseInt($('#gantt-slider .gantt-slider__item').last().css('margin-right'));\n\t\t\tvar maxScrollLeft = gridWidth + lineOffset  + lastItemMargin - $(window).width();\n\t\t}\n\n\t\t$('#gantt-slider .gantt-slider__grid').width(gridWidth);\n\t\t\n\t\tif (maxScrollLeft < 0) maxScrollLeft = 0;\n\t\tself._state.maxScrollLeft = maxScrollLeft;\n\n\t},\n\n\t_initRangeSlider: function () {\n\t\tvar self = this;\n\n\t\tvar $range = $('#gantt-slider .gantt-slider__range');\n\t\t$range.find('input').rangeslider({\n\t\t\tpolyfill: false,\n\t\t\tonInit: function () {\n\t\t\t\t$range.find('.rangeslider__handle').html('<i></i><i></i><i></i>');\n\t\t\t},\n\t\t\tonSlide: _.throttle(function(position, value) {\n\t\t\t\tif (value == self._state.lastRangeValue) return;\n\t\t\t\tself._state.lastRangeValue = value;\n\t\t\t\t\n\t\t\t\tvar isHandleActive = $range.find('.rangeslider').hasClass('rangeslider--active');\n\t\t\t\tif (!isHandleActive) return;\n\n\t\t\t\tvar scrollLeft = self._state.maxScrollLeft / 1000 * value; \n\t\t\t\t$('#gantt-slider .gantt-slider__scroll').scrollLeft(scrollLeft);\n\t\t\t}, 50)\n\t\t});\n\n\t},\n\n\t_startVideoLoading: function () {\n\t\tvar self = this;\n\n\t\t$('#gantt-slider video').each(function () {\n\t\t\t$(this)[0].load();\n\t\t});\n\t},\n\n\t_handleUserActivity: function (e) {\n\t\tvar self = e.data.self;\n\n\t\tif ( self._state.isUserActivityHandled ) return;\n\t\tif ( !Modernizr.video || Modernizr.lowbandwidth ) return;\n\n\t\tself._state.isUserActivityHandled = true;\n\t\tsetTimeout(self._startVideoLoading.bind(self), 100);\n\t},\n\n\t_handleCanPlayEvent: function (e) {\n\t\tvar self = e.data.self;\n\n\t\tobjectFitPolyfill(this);\n\t\t$(this).addClass('_active');\n\t},\n\n\t_handleMouseOver: function (e) {\n\t\tvar self = e.data.self;\n\n\t\tvar $video = $(this).find('video._active');\n\t\tif ($video.length) {\n\t\t\t$video[0].play();\n\t\t}\n\t},\n\n\t_handleMouseOut: function (e) {\n\t\tvar self = e.data.self;\n\n\t\tvar $video = $(this).find('video._active');\n\t\tif ($video.length) {\n\t\t\t$video[0].pause();\n\t\t}\n\t},\n\n\t_handleWindowResize: function (e) {\n\t\tvar self = e.data.self;\n\n\t\tself._makeScrollCalcs();\n\t},\n\n\t_handleSliderScroll: function (e) {\n\t\tvar self = e.data.self;\n\n\t\tvar scrollLeft = $('#gantt-slider .gantt-slider__scroll').scrollLeft();\n\t\tvar rangeValue = Math.round(1000 * scrollLeft / self._state.maxScrollLeft);\n\t\t$('#gantt-slider .gantt-slider__range input').val(rangeValue).change();\n\t},\n\n\t_handleToggleButton: function (e) {\n\t\tvar self = e.data.self;\n\n\t\tif (self._state.isGanttView) {\n\t\t\tself._switchToLinesView();\n\t\t} else {\n\t\t\tself._switchToGanttView();\n\t\t}\n\t},\n\n\t_bindUI: function () {\n\t\tvar self = this;\n\n\t\t$('.gantt-slider__scroll').on('scroll', {self: self}, _.throttle(self._handleSliderScroll, 50));\n\t\t$('.gantt-slider__bg__video').on('canplaythrough', {self: self}, self._handleCanPlayEvent);\n\t\t$(document).one('click touchstart', {self: self}, self._handleUserActivity);\n\t\t$(document).on('mouseover', '.gantt-slider__item', {self: self}, self._handleMouseOver);\n\t\t$(document).on('mouseout', '.gantt-slider__item', {self: self}, self._handleMouseOut);\n\t\t$(document).on('click', '.gantt-slider__toggle', {self: self}, self._handleToggleButton);\n\t\t$(window).on('resize orientationchange', {self: self}, self._handleWindowResize);\n\t},\n\n\tinit: function () {\n\t\tvar self = this;\n\n\t\tif ( $('#gantt-slider').length == 0 ) return;\n\n\t\tself._makeScrollCalcs();\n\t\tself._initRangeSlider();\n\t\tself._fillRandomItems();\n\t\tself._bindUI();\n\n\t\t$('body').trigger('click');\n\t}\n\n};\n\nvar Header = {\n\n\n\t_adjustMoreItem: function () {\n\t\tvar self = this;\n\n\t\tvar $_ = $('#header');\n\n\t\t// close dropdown during resizing\n\t\tvar $more = $_.find('.header__menu__item--more');\n\t\t$more.removeClass('--opened');\n\n\t\t// compare container & items top offsets and find break point\n\t\tvar $crop  = $_.find('.header__menu__crop');\n\t\tvar cropOffset = $crop.offset().top;\n\t\tvar $items = $crop.find('.header__menu__item');\n\t\tvar lastIndex = 0;\n\n\t\t$items.each(function (index) {\n\t\t\tvar itemOffset = $(this).offset().top;\n\t\t\tif (itemOffset == cropOffset) {\n\t\t\t\tlastIndex = index;\n\t\t\t}\n\t\t});\n\n\t\t// show 'more', if lastIndex less than maxIndex\n\t\tvar $lastItem = $items.eq(lastIndex);\n\t\tvar maxIndex = $items.length - 1;\n\n\t\tif (lastIndex < maxIndex) {\n\n\t\t\t// show 'more' and position it\n\t\t\tvar lastItemLeft = $lastItem.offset().left - $crop.offset().left;\n\t\t\tvar lastItemMargin = parseInt($lastItem.css('margin-right'));\n\t\t\tvar lastItemWidth = $lastItem.width();\n\n\t\t\tvar moreOffset = lastItemLeft + lastItemMargin + lastItemWidth;\n\t\t\t$more.addClass('--shown').css({ left: moreOffset + 'px'});\n\n\t\t\t// show/hide 'more' elements\n\t\t\tvar $moreItems = $_.find('.header__menu__down__body > div');\n\t\t\t$moreItems.each(function (index) {\n\t\t\t\tif (index > lastIndex) {\n\t\t\t\t\t$(this).show();\n\t\t\t\t} else {\n\t\t\t\t\t$(this).hide();\n\t\t\t\t}\n\t\t\t});\n\n\t\t} else {\n\t\t\t$more.removeClass('--shown');\n\t\t}\n\n\t},\n\n\t_handleMoreClick: function (e) {\n\t\tvar self = e.data.self;\n\n\t\te.preventDefault();\n\n\t\t$('#header .header__menu__item--more').toggleClass('--opened');\n\t},\n\n\t_handleDocumentClick: function (e) {\n\t\tvar self = e.data.self;\n\n\t\tvar moreSelector = '.header__menu__item--more';\n\t\tif ( $(e.target).closest(moreSelector).length == 0 ){\n\t\t\t$('#header ' + moreSelector).removeClass('--opened');\n\t\t}\n\t},\n\n\t_handleWindowResize: function (e) {\n\t\tvar self = e.data.self;\n\n\t\tself._adjustMoreItem();\n\t},\n\n\t_bindUI: function () {\n\t\tvar self = this;\n\n\t\t$(document).on('click', {self: self}, self._handleDocumentClick);\n\t\t$(document).on('click', '.header__menu__item--more > a', {self: self}, self._handleMoreClick);\n\t\t$(window).on('resize orientationchange', {self: self}, self._handleWindowResize);\n\t},\n\n\tinit: function () {\n\t\tvar self = this;\n\n\t\tif ( $('#header').length == 0) return;\n\n\t\tself._adjustMoreItem();\n\t\tself._bindUI();\n\t}\n}\n\nvar News = {\n\n\t_state: {\n\t\tsly: null,\n\t\tmaxIndex: null,\n\t\tcurrIndex: 0\n\t},\n\n\t_setSliderWidth: function () {\n\t\tvar self = this;\n\n\t\tvar $wrapper = $('#wrapper');\n\t\tvar $slider  = $('#news .news__slider');\n\t\tvar wrapperOffset = $wrapper.offset().left;\n\t\tvar wrapperWidth = $wrapper.width();\n\t\tvar sliderOffset = $slider.offset().left;\n\t\tvar sliderWidth = wrapperWidth- (sliderOffset - wrapperOffset);\n\t\t$slider.width(sliderWidth);\n\t},\n\n\t_initSlider: function () {\n\t\tvar self = this;\n\n\t\tvar $_ = $('#news');\n\t\tvar $slider  = $_.find('.news__slider');\n\t\tvar $prevBtn = $_.find('.js-news-prev');\n\t\tvar $nextBtn = $_.find('.js-news-next');\n\n\t\tself._state.maxIndex = $_.find('.news__item').length - 1;\n\t\tself._state.sly = new Sly($slider[0], {\n\t\t\thorizontal: 1,\n\t\t\titemNav: 'basic',\n\t\t\tspeed: 300,\n\t\t\tmouseDragging: 1,\n\t\t\ttouchDragging: 1,\n\t\t\treleaseSwing: true\n\t\t}).init();\n\n\t},\n\n\t_handleNextButton: function (e) {\n\t\tvar self = e.data.self;\n\n\t\te.preventDefault();\n\n\t\tvar currIndex = self._state.currIndex;\n\t\tvar nextIndex = currIndex + 1;\n\t\tif (nextIndex > self._state.maxIndex) return;\n\n\t\tself._state.sly.toStart(++self._state.currIndex);\n\t},\n\n\t_handlePrevButton: function (e) {\n\t\tvar self = e.data.self;\n\n\t\te.preventDefault();\n\n\t\tvar currIndex = self._state.currIndex;\n\t\tvar nextIndex = currIndex - 1;\n\t\tif (nextIndex < 0) return;\n\n\t\tself._state.sly.toStart(--self._state.currIndex);\n\t},\n\n\t_handleWindowResize: function (e) {\n\t\tvar self = e.data.self;\n\n\t\tself._setSliderWidth();\n\t\tself._state.sly.reload();\n\t},\n\n\t_handleMoveEnd: function () {\n\t\tvar self = this;\n\n\t},\n\n\t_bindUI: function () {\n\t\tvar self = this;\n\n\t\t$(window).on('resize orientationchange', {self: self}, self._handleWindowResize);\n\t\t$(document).on('click', '#news .js-news-next', {self: self}, self._handleNextButton);\n\t\t$(document).on('click', '#news .js-news-prev', {self: self}, self._handlePrevButton);\n\t\tself._state.sly.on('moveEnd', self._handleMoveEnd.bind(self));\n\t},\n\n\tinit: function () {\n\t\tvar self = this;\n\n\t\tif ( $('#news').length == 0 ) return;\n\n\t\tself._setSliderWidth();\n\t\tself._initSlider();\n\t\tself._bindUI();\n\t}\n};\nvar Button = {\n\n\t_handleButtonMouseover: function (e) {\n\t\tvar self = e.data.self;\n\n\t\t$(this).addClass('--active');\n\t},\n\n\t_handleButtonMouseout: function (e) {\n\t\tvar self = e.data.self;\n\n\t\t$(this).removeClass('--active');\n\t},\n\n\t_bindUI: function () {\n\t\tvar self = this;\n\n\t\t$(document).on('mouseover', '.button', {self: self}, self._handleButtonMouseover);\n\t\t$(document).on('mouseout', '.button', {self: self}, self._handleButtonMouseout);\n\t},\n\n\tinit: function () {\n\t\tvar self = this;\n\n\t\tself._bindUI();\n\t}\n};\nvar App = {\n\n\t_isFontsReady: function () {\n\t\treturn $('html').hasClass('wf-active');\n\t},\n\n\t_initImagerJs: function () {\n\t\tnew Imager('.js-imager-box img', { \n\t\t\tavailableWidths: [600, 1000], \n\t\t\tavailablePixelRatios: [1, 2],\n\t\t\tonImagesReplaced: function () {\n\t\t\t\t$(this.selector).each(function () {\n\t\t\t\t\tvar src = $(this).attr('src');\n\t\t\t\t\t$(this).parent().css({ 'background-image': 'url(' + src + ')' });\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\t\n\t_handleDOMReady: function () {\n\t\tvar self = this;\n\n\t\tvar timer = setInterval(function () {\n\t\t\tif ( self._isFontsReady() ) {\n\t\t\t\tclearInterval(timer);\n\n\t\t\t\t// init modules here\n\t\t\t\tself._initImagerJs();\n\t\t\t\tDigits.init();\n\t\t\t\tOverview.init();\n\t\t\t\tGanttSlider.init();\n\t\t\t\tHeader.init();\n\t\t\t\tNews.init();\n\t\t\t\tButton.init();\n\n\t\t\t\tif (getScrollbarWidth() == 0) {\n\t\t\t\t\t$(\"html\").addClass('hidden-scrollbar');\n\t\t\t\t}\n\t\t\t}\n\t\t}, 20);\n\t},\n\n\t_bindUI: function () {\n\t\tvar self = this;\n\n\t\t$(document).ready(self._handleDOMReady.bind(self));\n\t},\n\n\n\n\tinit: function () {\n\t\tvar self = this;\n\n\t\tself._bindUI();\n\t}\n};\n\nApp.init();"]}
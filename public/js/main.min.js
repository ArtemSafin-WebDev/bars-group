/*!
 * THIS FILE IS GENERATED BY GULP PROJECT. 
 * NEVER CHANGE IT MANUALLY, OTHERWISE YOUR CHANGES 
 * CAN BE OVERWRITTEN. 
 * 
 * @description 
 * @repository git@bitbucket.org:ildar-meyker/html-barsgroup.git
 */
!function(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream){window.onload=function(){var t,e;t="* {cursor: pointer; }",(e=document.createElement("style")).type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),document.getElementsByTagName("head")[0].appendChild(e)}}}();var ImDigits={_state:{currentIndex:null,touchStartX:null,touchStartY:null,animating:!1},_getRealIndex:function(t){return t%this._getRealCount()},_getNumsCount:function(){return $("#im-digits .im-digits__nums__item").length},_getRealCount:function(){return $("#im-digits .im-digits__pics__item").length},_getDirection:function(t){return this._state.currentIndex<t?"left":"right"},_setInitialPosition:function(){var t=this,e=t._getRealCount();t._state.currentIndex=e,t._moveNumsToItem(e)},_setRightRebasePos:function(){var t=this,e=t._getRealCount(),i=t._state.currentIndex-e;t._state.currentIndex=i,t._moveNumsToItem(i)},_setVisibleState:function(){$("#im-digits").addClass("_visible")},_setReadyState:function(){setTimeout(function(){$("#im-digits").addClass("_ready")},20)},_cloneNumsItems:function(){for(var t=$("#im-digits"),e=t.find(".im-digits__nums__crop"),i=t.find(".im-digits__nums__list"),s=t.find(".im-digits__nums__item"),a=e.width(),n=i.width(),d=Math.ceil(a/n)+1,_=0;_<d;_++)s.clone().appendTo(i)},_slideToItem:function(t){var e=this;if(!e._state.animating){e._state.animating=!0;var i=e._state.currentIndex,s=t,a=$("#im-digits"),n=a.find(".im-digits__nums__crop"),d=a.find(".im-digits__nums__item").eq(s),_=a.find(".im-digits__pics__item").eq(e._getRealIndex(s)),o=a.find(".im-digits__text__item").eq(e._getRealIndex(s)),l=o.find(".im-digits__text__value"),r=o.find(".im-digits__text__desc"),m=a.find(".im-digits__nums__item").eq(i),c=a.find(".im-digits__pics__item").eq(e._getRealIndex(i)),f=a.find(".im-digits__text__item").eq(e._getRealIndex(i)),u=f.find(".im-digits__text__value"),g=f.find(".im-digits__text__desc"),h=a.find(".im-digits__about__item"),v=e._getDirection(t);switch(h.eq(e._getRealIndex(i)).removeClass("_active"),setTimeout(function(){h.eq(e._getRealIndex(s)).addClass("_active")},200),v){case"left":var I=d.clone(),C=d.offset().left-n.offset().left;I.addClass("_fixed").css({left:C}).appendTo(n),d.addClass("_hidden");var x=I.offset().left-l.offset().left;l.css({transform:"translateX("+x+"px)"}),g.addClass("_fadeOutLeft"),u.addClass("_fadeOutLeft"),setTimeout(function(){_.addClass("_active _cover _fadeInImage"),r.addClass("_fadeInRight"),l.addClass("_ready").css({transform:"translateX(0)"}),o.addClass("_active"),I.css({transform:"translateX(-"+x+"px)"}),e._moveNumsToItem(s)},200);break;case"right":I=m.clone(),C=u.offset().left-n.offset().left;I.addClass("_fixed").css({left:C}).appendTo(n),m.addClass("_hidden");x=n.offset().left-u.offset().left+parseFloat(m.css("margin-left"));g.addClass("_fadeOutRight"),u.addClass("_ready").css({transform:"translateX("+x+"px)"}),I.css({transform:"translateX("+x+"px)"}),e._moveNumsToItem(s),setTimeout(function(){_.addClass("_active _cover _fadeInImage"),r.addClass("_fadeInLeft"),l.addClass("_fadeInLeft"),o.addClass("_active")},200)}setTimeout(function(){c.removeClass("_active"),f.removeClass("_active"),g.removeClass("_fadeOutLeft _fadeOutRight"),u.removeClass("_ready _fadeOutLeft").attr("style",""),m.removeClass("_hidden"),_.removeClass("_cover _fadeInImage"),r.removeClass("_fadeInRight _fadeInLeft"),l.removeClass("_ready _fadeInLeft").attr("style",""),d.removeClass("_hidden"),I.remove(),e._state.animating=!1,e._state.currentIndex=s,e._rebaseAtEdges()},700)}},_moveNumsToItem:function(t){for(var e=$("#im-digits .im-digits__nums__item"),i=Math.min(t,this._getNumsCount()-1),s=0,a=0;a<=i;a++)s+=parseFloat(e.eq(a).width()),s+=parseFloat(e.eq(a).css("margin-left"));$("#im-digits .im-digits__nums__list").css({transform:"translateX(-"+s+"px)"})},_rebaseAtEdges:function(){var t=this,e=$("#im-digits"),i=e.find(".im-digits__nums__crop"),s=e.find(".im-digits__nums__item").last().prev().offset().left,a=i.offset().left+i.width(),n=t._state.currentIndex;(0==n||s<a)&&($("#im-digits").removeClass("_ready"),0==n?t._setInitialPosition():t._setRightRebasePos(),setTimeout(function(){$("#im-digits").addClass("_ready")},20))},_initImagerJs:function(){new Imager("#im-digits .im-digits__pics__item img",{availableWidths:[857],availablePixelRatios:[1,2],onImagesReplaced:function(){$(this.selector).each(function(){var t=$(this).attr("src");$(this).parent().css({"background-image":"url("+t+")"})})}})},_handleNumClick:function(t){var e=t.data.self;t.preventDefault();var i=$(this).index();e._slideToItem(i)},_handlePrevClick:function(t){var e=t.data.self;t.preventDefault();var i=e._state.currentIndex-1;e._slideToItem(i)},_handleNextClick:function(t){var e=t.data.self;t.preventDefault();var i=e._state.currentIndex+1;e._slideToItem(i)},_handleWindowResize:function(t){var e=t.data.self,i=e._state.currentIndex;e._moveNumsToItem(i)},_handleTouchStart:function(t){var e=t.data.self;e._state.touchStartX=t.originalEvent.touches[0].clientX,e._state.touchStartY=t.originalEvent.touches[0].clientX},_handleTouchMove:function(t){var e=t.data.self,i=e._state.touchStartX,s=e._state.touchStartY,a=i-t.originalEvent.touches[0].clientX,n=s-t.originalEvent.touches[0].clientY;if(100<Math.abs(a)&&Math.abs(a)>Math.abs(n)){if(0<a)var d=e._state.currentIndex+1;else d=e._state.currentIndex-1;e._slideToItem(d)}},_bindUI:function(){var t=this;$(document).on("click",".im-digits__nums__item",{self:t},t._handleNumClick),$(document).on("click",".im-digits__prev",{self:t},t._handlePrevClick),$(document).on("click",".im-digits__next",{self:t},t._handleNextClick),$(document).on("touchstart",".im-digits__center",{self:t},t._handleTouchStart),$(document).on("touchmove",".im-digits__center",{self:t},t._handleTouchMove),$(window).on("resize orientationchange",{self:t},t._handleWindowResize)},init:function(){var t=this;0!=$("#im-digits").length&&(t._initImagerJs(),t._cloneNumsItems(),t._setInitialPosition(),t._setVisibleState(),t._setReadyState(),t._bindUI())}},App={_handleDOMReady:function(){WebFont.load({google:{families:["Open Sans:400,600,700:cyrillic"]},active:function(){ImDigits.init()}})},_bindUI:function(){$(document).ready(this._handleDOMReady.bind(this))},init:function(){this._bindUI()}};App.init();
//# sourceMappingURL=main.min.js.map

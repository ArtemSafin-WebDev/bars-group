/*!
 * THIS FILE IS GENERATED BY GULP PROJECT. 
 * NEVER CHANGE IT MANUALLY, OTHERWISE YOUR CHANGES 
 * CAN BE OVERWRITTEN. 
 * 
 * @description 
 * @repository git@bitbucket.org:ildar-meyker/html-barsgroup.git
 */
!function(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream){window.onload=function(){var e,t;e="* {cursor: pointer; }",(t=document.createElement("style")).type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(t)}}}();var ImDigits={_state:{currentIndex:null,animating:!1},_getRealIndex:function(e){return e%this._getRealCount()},_getNumsCount:function(){return $("#im-digits .im-digits__nums__item").length},_getRealCount:function(){return $("#im-digits .im-digits__pics__item").length},_getDirection:function(e){return this._state.currentIndex<e?"left":"right"},_setInitialPosition:function(){var e=this,t=e._getRealCount();e._state.currentIndex=t,e._moveNumsToItem(t)},_setRightRebasePos:function(){var e=this,t=e._getRealCount(),i=e._state.currentIndex-t;e._state.currentIndex=i,e._moveNumsToItem(i)},_setVisibleState:function(){$("#im-digits").addClass("_visible")},_setReadyState:function(){setTimeout(function(){$("#im-digits").addClass("_ready")},20)},_cloneNumsItems:function(){for(var e=$("#im-digits"),t=e.find(".im-digits__nums__crop"),i=e.find(".im-digits__nums__list"),s=e.find(".im-digits__nums__item"),n=t.width(),a=i.width(),d=Math.ceil(n/a)+1,_=0;_<d;_++)s.clone().appendTo(i)},_slideToItem:function(e){var t=this;if(!t._state.animating){t._state.animating=!0;var i=t._state.currentIndex,s=e,n=$("#im-digits"),a=n.find(".im-digits__nums__crop"),d=n.find(".im-digits__nums__item").eq(s),_=n.find(".im-digits__pics__item").eq(t._getRealIndex(s)),o=n.find(".im-digits__text__item").eq(t._getRealIndex(s)),m=o.find(".im-digits__text__value"),l=o.find(".im-digits__text__desc"),f=n.find(".im-digits__nums__item").eq(i),r=n.find(".im-digits__pics__item").eq(t._getRealIndex(i)),c=n.find(".im-digits__text__item").eq(t._getRealIndex(i)),u=c.find(".im-digits__text__value"),g=c.find(".im-digits__text__desc");switch(t._getDirection(e)){case"left":var v=d.clone(),h=d.offset().left-a.offset().left;v.addClass("_fixed").css({left:h}).appendTo(a),d.addClass("_hidden");var I=v.offset().left-m.offset().left;m.css({transform:"translateX("+I+"px)"}),g.addClass("_fadeOutLeft"),u.addClass("_fadeOutLeft"),setTimeout(function(){_.addClass("_active _cover _fadeInImage"),l.addClass("_fadeInRight"),m.addClass("_ready").css({transform:"translateX(0)"}),o.addClass("_active"),v.css({transform:"translateX(-"+I+"px)"}),t._moveNumsToItem(s)},200);break;case"right":v=f.clone(),h=u.offset().left-a.offset().left;v.addClass("_fixed").css({left:h}).appendTo(a),f.addClass("_hidden");I=a.offset().left-u.offset().left+parseFloat(f.css("margin-left"));g.addClass("_fadeOutRight"),u.addClass("_ready").css({transform:"translateX("+I+"px)"}),v.css({transform:"translateX("+I+"px)"}),t._moveNumsToItem(s),setTimeout(function(){_.addClass("_active _cover _fadeInImage"),l.addClass("_fadeInLeft"),m.addClass("_fadeInLeft"),o.addClass("_active")},200)}setTimeout(function(){r.removeClass("_active"),c.removeClass("_active"),g.removeClass("_fadeOutLeft _fadeOutRight"),u.removeClass("_ready _fadeOutLeft").attr("style",""),f.removeClass("_hidden"),_.removeClass("_cover _fadeInImage"),l.removeClass("_fadeInRight _fadeInLeft"),m.removeClass("_ready _fadeInLeft").attr("style",""),d.removeClass("_hidden"),v.remove(),t._state.animating=!1,t._state.currentIndex=s,t._rebaseAtEdges()},700)}},_moveNumsToItem:function(e){for(var t=$("#im-digits .im-digits__nums__item"),i=Math.min(e,this._getNumsCount()-1),s=0,n=0;n<=i;n++)s+=parseFloat(t.eq(n).width()),s+=parseFloat(t.eq(n).css("margin-left"));$("#im-digits .im-digits__nums__list").css({transform:"translateX(-"+s+"px)"})},_rebaseAtEdges:function(){var e=this,t=$("#im-digits"),i=t.find(".im-digits__nums__crop"),s=t.find(".im-digits__nums__item").last().prev().offset().left,n=i.offset().left+i.width(),a=e._state.currentIndex;(0==a||s<n)&&($("#im-digits").removeClass("_ready"),0==a?e._setInitialPosition():e._setRightRebasePos(),setTimeout(function(){$("#im-digits").addClass("_ready")},20))},_handleNumClick:function(e){var t=e.data.self;e.preventDefault();var i=$(this).index();t._slideToItem(i)},_handlePrevClick:function(e){var t=e.data.self;e.preventDefault();var i=t._state.currentIndex-1;t._slideToItem(i)},_handleNextClick:function(e){var t=e.data.self;e.preventDefault();var i=t._state.currentIndex+1;t._slideToItem(i)},_handleWindowResize:function(e){var t=e.data.self,i=t._state.currentIndex;t._moveNumsToItem(i)},_bindUI:function(){var e=this;$(document).on("click",".im-digits__nums__item",{self:e},e._handleNumClick),$(document).on("click",".im-digits__prev",{self:e},e._handlePrevClick),$(document).on("click",".im-digits__next",{self:e},e._handleNextClick),$(window).on("resize orientationchange",{self:e},e._handleWindowResize)},init:function(){var e=this;0!=$("#im-digits").length&&(e._cloneNumsItems(),e._setInitialPosition(),e._setVisibleState(),e._setReadyState(),e._bindUI())}},App={_handleDOMReady:function(){WebFont.load({google:{families:["Open Sans:400,600,700:cyrillic"]},active:function(){ImDigits.init()}})},_bindUI:function(){$(document).ready(this._handleDOMReady.bind(this))},init:function(){this._bindUI()}};App.init();
//# sourceMappingURL=main.min.js.map

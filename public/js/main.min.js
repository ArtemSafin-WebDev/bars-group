/*!
 * THIS FILE IS GENERATED BY GULP PROJECT. 
 * NEVER CHANGE IT MANUALLY, OTHERWISE YOUR CHANGES 
 * CAN BE OVERWRITTEN. 
 * 
 * @description 
 * @repository git@bitbucket.org:ildar-meyker/html-barsgroup.git
 */
!function(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream){window.onload=function(){var t,e;t="* {cursor: pointer; }",(e=document.createElement("style")).type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),document.getElementsByTagName("head")[0].appendChild(e)}}}();var Digits={_state:{currentIndex:null,touchStartX:null,touchStartY:null,animating:!1},_getRealIndex:function(t){return t%this._getRealCount()},_getNumsCount:function(){return $("#digits .digits__nums__item").length},_getRealCount:function(){return $("#digits .digits__pics__item").length},_getDirection:function(t){return this._state.currentIndex<t?"left":"right"},_setInitialPosition:function(){var t=this,e=t._getRealCount();t._state.currentIndex=e,t._moveNumsToItem(e)},_setRightRebasePos:function(){var t=this,e=t._getRealCount(),n=t._state.currentIndex-e;t._state.currentIndex=n,t._moveNumsToItem(n)},_setVisibleState:function(){$("#digits").addClass("_visible")},_setReadyState:function(){setTimeout(function(){$("#digits").addClass("_ready")},20)},_cloneNumsItems:function(){for(var t=$("#digits"),e=t.find(".digits__nums__crop"),n=t.find(".digits__nums__list"),i=t.find(".digits__nums__item"),a=e.width(),s=n.width(),d=Math.ceil(a/s)+1,l=0;l<d;l++)i.clone().appendTo(n)},_slideToItem:function(t){var e=this;if(!e._state.animating){e._state.animating=!0;var n=e._state.currentIndex,i=t,a=$("#digits"),s=a.find(".digits__nums__crop"),d=a.find(".digits__nums__item").eq(i),l=a.find(".digits__pics__item").eq(e._getRealIndex(i)),o=a.find(".digits__text__item").eq(e._getRealIndex(i)),_=o.find(".digits__text__value"),r=o.find(".digits__text__desc"),c=a.find(".digits__nums__item").eq(n),f=a.find(".digits__pics__item").eq(e._getRealIndex(n)),u=a.find(".digits__text__item").eq(e._getRealIndex(n)),h=u.find(".digits__text__value"),g=u.find(".digits__text__desc"),m=a.find(".digits__about__item"),v=e._getDirection(t);switch(m.eq(e._getRealIndex(n)).removeClass("_active"),setTimeout(function(){m.eq(e._getRealIndex(i)).addClass("_active")},0),v){case"left":var I=d.clone(),w=d.offset().left-s.offset().left;I.addClass("_fixed").css({left:w}).appendTo(s),d.addClass("_hidden");var T=I.offset().left-_.offset().left;_.css({transform:"translateX("+T+"px)"}),g.addClass("_fadeOutLeft"),h.addClass("_fadeOutLeft"),setTimeout(function(){l.addClass("_active _cover _fadeInImage"),r.addClass("_fadeInRight"),_.addClass("_ready").css({transform:"translateX(0)"}),o.addClass("_active"),I.css({transform:"translateX(-"+T+"px)"}),e._moveNumsToItem(i)},0);break;case"right":I=c.clone(),w=h.offset().left-s.offset().left;I.addClass("_fixed").css({left:w}).appendTo(s),c.addClass("_hidden");T=s.offset().left-h.offset().left+parseFloat(c.css("margin-left"));g.addClass("_fadeOutRight"),h.addClass("_ready").css({transform:"translateX("+T+"px)"}),I.css({transform:"translateX("+T+"px)"}),e._moveNumsToItem(i),setTimeout(function(){l.addClass("_active _cover _fadeInImage"),r.addClass("_fadeInLeft"),_.addClass("_fadeInLeft"),o.addClass("_active")},0)}setTimeout(function(){f.removeClass("_active"),u.removeClass("_active"),g.removeClass("_fadeOutLeft _fadeOutRight"),h.removeClass("_ready _fadeOutLeft").attr("style",""),c.removeClass("_hidden"),l.removeClass("_cover _fadeInImage"),r.removeClass("_fadeInRight _fadeInLeft"),_.removeClass("_ready _fadeInLeft").attr("style",""),d.removeClass("_hidden"),I.remove(),e._state.animating=!1,e._state.currentIndex=i,e._rebaseAtEdges()},700)}},_moveNumsToItem:function(t){for(var e=$("#digits .digits__nums__item"),n=Math.min(t,this._getNumsCount()-1),i=0,a=0;a<=n;a++)i+=parseFloat(e.eq(a).width()),i+=parseFloat(e.eq(a).css("margin-left"));$("#digits .digits__nums__list").css({transform:"translateX(-"+i+"px)"})},_rebaseAtEdges:function(){var t=$("#digits"),e=t.find(".digits__nums__crop"),n=t.find(".digits__nums__item").last().prev().offset().left,i=e.offset().left+e.width(),a=this._state.currentIndex;(0==a||n<i)&&($("#digits").removeClass("_ready"),0==a?this._setInitialPosition():this._setRightRebasePos(),setTimeout(function(){$("#digits").addClass("_ready")},20))},_handleNumClick:function(t){var e=t.data.self;t.preventDefault();var n=$(this).index();e._slideToItem(n)},_handlePrevClick:function(t){var e=t.data.self;t.preventDefault();var n=e._state.currentIndex-1;e._slideToItem(n)},_handleNextClick:function(t){var e=t.data.self;t.preventDefault();var n=e._state.currentIndex+1;e._slideToItem(n)},_handleWindowResize:function(t){var e=t.data.self,n=e._state.currentIndex;e._moveNumsToItem(n)},_handleTouchStart:function(t){var e=t.data.self;e._state.touchStartX=t.originalEvent.touches[0].clientX,e._state.touchStartY=t.originalEvent.touches[0].clientX},_handleTouchMove:function(t){var e=t.data.self,n=e._state.touchStartX,i=e._state.touchStartY,a=n-t.originalEvent.touches[0].clientX,s=i-t.originalEvent.touches[0].clientY;if(100<Math.abs(a)&&Math.abs(a)>Math.abs(s)){if(0<a)var d=e._state.currentIndex+1;else d=e._state.currentIndex-1;e._slideToItem(d)}},_bindUI:function(){var t=this;$(document).on("click",".digits__nums__item",{self:t},t._handleNumClick),$(document).on("click","#digits .js-digits-prev",{self:t},t._handlePrevClick),$(document).on("click","#digits .js-digits-next",{self:t},t._handleNextClick),$(document).on("touchstart",".digits__center",{self:t},t._handleTouchStart),$(document).on("touchmove",".digits__center",{self:t},t._handleTouchMove),$(window).on("resize orientationchange",{self:t},t._handleWindowResize)},init:function(){var t=this;0!=$("#digits").length&&(t._cloneNumsItems(),t._setInitialPosition(),t._setVisibleState(),t._setReadyState(),t._bindUI())}},Overview={_state:{isUserActivityHandled:!1,currIndex:null},_startVideoLoading:function(){$("#overview video").each(function(){$(this)[0].load()})},_handleUserActivity:function(t){var e=t.data.self;e._state.isUserActivityHandled||Modernizr.video&&!Modernizr.lowbandwidth&&(e._state.isUserActivityHandled=!0,setTimeout(e._startVideoLoading.bind(e),100))},_handleCanPlayEvent:function(t){t.data.self;objectFitPolyfill(this),$(this).addClass("_active"),$(this)[0].play()},_handleLinkClick:function(t){var e=t.data.self;t.preventDefault();var n=$(this).closest(".overview__nav__item").index(),i=e._state.currIndex;if(n!=i){var a=$("#overview"),s=a.find(".overview__nav__item");s.eq(i).removeClass("_active"),s.eq(n).addClass("_active");var d=a.find(".overview__about__item");d.eq(i).removeClass("_active"),d.eq(n).addClass("_active");var l=a.find(".overview__nav__body");l.eq(i).collapse("hide"),l.eq(n).collapse("show");var o=a.find(".overview__bg__item");if(i<n)var _=-80,r=0;else _=0,r=-80;o.eq(n).removeClass("_animate").css({transform:"translateY("+_+"px)",opacity:0}),setTimeout(function(){o.eq(i).css({transform:"translateY("+r+"px)",opacity:0}),o.eq(n).addClass("_animate").css({transform:"translateY(-40px)",opacity:1})},20),e._state.currIndex=n}},_bindUI:function(){var t=this;$(".overview__bg__video").on("canplaythrough",{self:t},t._handleCanPlayEvent),$(document).one("click touchstart",{self:t},t._handleUserActivity),$(document).on("click",".overview__nav__link",{self:t},t._handleLinkClick)},init:function(){0!=$("#overview").length&&(this._bindUI(),$("body").trigger("click"))}},GanttSlider={_GANTT_ITEM_WIDTH:510,_GANTT_SCENE_HEIGHT:600,_GANTT_EDGE_OFFSET:60,_PATTERN_ITEMS:[[310,60],[25,355],[200,775],[370,1070],[100,1435],[410,1760],[120,2115]],_PATTERN_WIDTH:2440,_state:{randomItems:[],isUserActivityHandled:!1,isGanttView:!1,savedSceneHeight:null,maxScrollLeft:null,lastRangeValue:null},_switchToGanttView:function(){for(var t=this,e=$("#gantt-slider"),n=e.find(".gantt-slider__scroll"),i=e.find(".gantt-slider__scene"),a=t._state.randomItems,s=0,d=a.length;s<d;s++){var l=parseInt($(a[s]).offset().top-n.offset().top),o=parseInt($(a[s]).offset().left+n.scrollLeft()),_=t._getGanttItemTopPos(s),r="translate3d("+(t._getGanttItemLeftPos(s)-o)+"px,"+(_-l)+"px,0)";$(a[s]).find(".gantt-slider__item__body").css({transform:r,width:t._GANTT_ITEM_WIDTH})}t._state.isGanttView=!0,t._state.savedSceneHeight=i.height(),i.height(t._state.savedSceneHeight),i.height(t._GANTT_SCENE_HEIGHT),$("#gantt-slider").addClass("gantt-slider--gantt-view"),t._makeScrollCalcs()},_switchToLinesView:function(){this._state.isGanttView=!1,$("#gantt-slider .gantt-slider__scene").height(this._state.savedSceneHeight),$("#gantt-slider .gantt-slider__item__body").attr("style",""),$("#gantt-slider").removeClass("gantt-slider--gantt-view"),this._makeScrollCalcs(),setTimeout(function(){$("#gantt-slider .gantt-slider__scene").attr("style","")},200)},_fillRandomItems:function(){var e=[],n=[],i=0;$("#gantt-slider .gantt-slider__line").each(function(){var t=$.makeArray($(this).find(".gantt-slider__item")).reverse();i+=t.length,e.push(t)});for(var a=0;a<i;)e.forEach(function(t){0!=t.length&&(n.push(t.pop()),a++)});this._state.randomItems=n},_getGanttItemTopPos:function(t){return this._PATTERN_ITEMS[this._convertToPatternIndex(t)][0]},_getGanttItemLeftPos:function(t){var e=Math.floor(t/this._PATTERN_ITEMS.length);return this._PATTERN_ITEMS[this._convertToPatternIndex(t)][1]+this._PATTERN_WIDTH*e},_convertToPatternIndex:function(t){return t%this._PATTERN_ITEMS.length},_makeScrollCalcs:function(){var t=this,e=$("#gantt-slider .gantt-slider__scroll"),n=$("#gantt-slider .gantt-slider__line"),i=n.offset().left+e.scrollLeft();if(t._state.isGanttView)var a=(d=t._getGanttItemLeftPos(t._state.randomItems.length-1)-i+t._GANTT_ITEM_WIDTH+t._GANTT_EDGE_OFFSET)+i-$(window).width();else{var s=0;n.each(function(){var t=$(this).find(".gantt-slider__item").last(),e=t.offset().left-i+t.width();s=Math.max(s,e)});var d=s,l=parseInt($("#gantt-slider .gantt-slider__item").last().css("margin-right"));a=d+i+l-$(window).width()}$("#gantt-slider .gantt-slider__grid").width(d),a<0&&(a=0),t._state.maxScrollLeft=a},_initRangeSlider:function(){var i=this,a=$("#gantt-slider .gantt-slider__range");a.find("input").rangeslider({polyfill:!1,onInit:function(){a.find(".rangeslider__handle").html("<i></i><i></i><i></i>")},onSlide:_.throttle(function(t,e){if(e!=i._state.lastRangeValue&&(i._state.lastRangeValue=e,a.find(".rangeslider").hasClass("rangeslider--active"))){var n=i._state.maxScrollLeft/1e3*e;$("#gantt-slider .gantt-slider__scroll").scrollLeft(n)}},50)})},_startVideoLoading:function(){$("#gantt-slider video").each(function(){$(this)[0].load()})},_handleUserActivity:function(t){var e=t.data.self;e._state.isUserActivityHandled||Modernizr.video&&!Modernizr.lowbandwidth&&(e._state.isUserActivityHandled=!0,setTimeout(e._startVideoLoading.bind(e),100))},_handleCanPlayEvent:function(t){t.data.self;objectFitPolyfill(this),$(this).addClass("_active")},_handleMouseOver:function(t){t.data.self;var e=$(this).find("video._active");e.length&&e[0].play()},_handleMouseOut:function(t){t.data.self;var e=$(this).find("video._active");e.length&&e[0].pause()},_handleWindowResize:function(t){t.data.self._makeScrollCalcs()},_handleSliderScroll:function(t){var e=t.data.self,n=$("#gantt-slider .gantt-slider__scroll").scrollLeft(),i=Math.round(1e3*n/e._state.maxScrollLeft);$("#gantt-slider .gantt-slider__range input").val(i).change()},_handleToggleButton:function(t){var e=t.data.self;e._state.isGanttView?e._switchToLinesView():e._switchToGanttView()},_bindUI:function(){var t=this;$(".gantt-slider__scroll").on("scroll",{self:t},_.throttle(t._handleSliderScroll,50)),$(".gantt-slider__bg__video").on("canplaythrough",{self:t},t._handleCanPlayEvent),$(document).one("click touchstart",{self:t},t._handleUserActivity),$(document).on("mouseover",".gantt-slider__item",{self:t},t._handleMouseOver),$(document).on("mouseout",".gantt-slider__item",{self:t},t._handleMouseOut),$(document).on("click",".gantt-slider__toggle",{self:t},t._handleToggleButton),$(window).on("resize orientationchange",{self:t},t._handleWindowResize)},init:function(){0!=$("#gantt-slider").length&&(this._makeScrollCalcs(),this._initRangeSlider(),this._fillRandomItems(),this._bindUI(),$("body").trigger("click"))}},Header={_adjustMoreItem:function(){var t=$("#header"),e=t.find(".header__menu__item--more");e.removeClass("--opened");var n=t.find(".header__menu__crop"),i=n.offset().top,a=n.find(".header__menu__item"),s=0;a.each(function(t){$(this).offset().top==i&&(s=t)});var d=a.eq(s),l=a.length-1;if(s<l){var o=d.offset().left-n.offset().left+parseInt(d.css("margin-right"))+d.width();e.addClass("--shown").css({left:o+"px"}),t.find(".header__menu__down__body > div").each(function(t){s<t?$(this).show():$(this).hide()})}else e.removeClass("--shown")},_handleMoreClick:function(t){t.data.self;t.preventDefault(),$("#header .header__menu__item--more").toggleClass("--opened")},_handleDocumentClick:function(t){t.data.self;var e=".header__menu__item--more";0==$(t.target).closest(e).length&&$("#header "+e).removeClass("--opened")},_handleWindowResize:function(t){t.data.self._adjustMoreItem()},_bindUI:function(){var t=this;$(document).on("click",{self:t},t._handleDocumentClick),$(document).on("click",".header__menu__item--more > a",{self:t},t._handleMoreClick),$(window).on("resize orientationchange",{self:t},t._handleWindowResize)},init:function(){0!=$("#header").length&&(this._adjustMoreItem(),this._bindUI())}},News={_state:{sly:null,maxIndex:null,currIndex:0},_setSliderWidth:function(){var t=$("#wrapper"),e=$("#news .news__slider"),n=t.offset().left,i=t.width()-(e.offset().left-n);e.width(i)},_initSlider:function(){var t=$("#news"),e=t.find(".news__slider");t.find(".js-news-prev"),t.find(".js-news-next");this._state.maxIndex=t.find(".news__item").length-1,this._state.sly=new Sly(e[0],{horizontal:1,itemNav:"basic",speed:300,mouseDragging:1,touchDragging:1,releaseSwing:!0}).init()},_handleNextButton:function(t){var e=t.data.self;t.preventDefault(),e._state.currIndex+1>e._state.maxIndex||e._state.sly.toStart(++e._state.currIndex)},_handlePrevButton:function(t){var e=t.data.self;t.preventDefault(),e._state.currIndex-1<0||e._state.sly.toStart(--e._state.currIndex)},_handleWindowResize:function(t){var e=t.data.self;e._setSliderWidth(),e._state.sly.reload()},_handleMoveEnd:function(){},_bindUI:function(){var t=this;$(window).on("resize orientationchange",{self:t},t._handleWindowResize),$(document).on("click","#news .js-news-next",{self:t},t._handleNextButton),$(document).on("click","#news .js-news-prev",{self:t},t._handlePrevButton),t._state.sly.on("moveEnd",t._handleMoveEnd.bind(t))},init:function(){0!=$("#news").length&&(this._setSliderWidth(),this._initSlider(),this._bindUI())}},Button={_handleButtonMouseover:function(t){t.data.self;$(this).addClass("--active")},_handleButtonMouseout:function(t){t.data.self;$(this).removeClass("--active")},_bindUI:function(){$(document).on("mouseover",".button",{self:this},this._handleButtonMouseover),$(document).on("mouseout",".button",{self:this},this._handleButtonMouseout)},init:function(){this._bindUI()}},App={_isFontsReady:function(){return $("html").hasClass("wf-active")},_initImagerJs:function(){new Imager(".js-imager-box img",{availableWidths:[600,1e3],availablePixelRatios:[1,2],onImagesReplaced:function(){$(this.selector).each(function(){var t=$(this).attr("src");$(this).parent().css({"background-image":"url("+t+")"})})}})},_handleDOMReady:function(){var t=this,e=setInterval(function(){t._isFontsReady()&&(clearInterval(e),t._initImagerJs(),Digits.init(),Overview.init(),GanttSlider.init(),Header.init(),News.init(),Button.init(),0==getScrollbarWidth()&&$("html").addClass("hidden-scrollbar"))},20)},_bindUI:function(){$(document).ready(this._handleDOMReady.bind(this))},init:function(){this._bindUI()}};App.init();
//# sourceMappingURL=main.min.js.map

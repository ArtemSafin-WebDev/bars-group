/*!
 * THIS FILE IS GENERATED BY GULP PROJECT. 
 * NEVER CHANGE IT MANUALLY, OTHERWISE YOUR CHANGES 
 * CAN BE OVERWRITTEN. 
 * 
 * @description 
 * @repository git@bitbucket.org:ildar-meyker/html-barsgroup.git
 */
!function(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream){window.onload=function(){var e,t;e="* {cursor: pointer; }",(t=document.createElement("style")).type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(t)}}}();var ImDigits={_state:{currentIndex:null,touchStartX:null,touchStartY:null,animating:!1},_getRealIndex:function(e){return e%this._getRealCount()},_getNumsCount:function(){return $("#im-digits .im-digits__nums__item").length},_getRealCount:function(){return $("#im-digits .im-digits__pics__item").length},_getDirection:function(e){return this._state.currentIndex<e?"left":"right"},_setInitialPosition:function(){var e=this,t=e._getRealCount();e._state.currentIndex=t,e._moveNumsToItem(t)},_setRightRebasePos:function(){var e=this,t=e._getRealCount(),i=e._state.currentIndex-t;e._state.currentIndex=i,e._moveNumsToItem(i)},_setVisibleState:function(){$("#im-digits").addClass("_visible")},_setReadyState:function(){setTimeout(function(){$("#im-digits").addClass("_ready")},20)},_cloneNumsItems:function(){for(var e=$("#im-digits"),t=e.find(".im-digits__nums__crop"),i=e.find(".im-digits__nums__list"),a=e.find(".im-digits__nums__item"),s=t.width(),n=i.width(),d=Math.ceil(s/n)+1,_=0;_<d;_++)a.clone().appendTo(i)},_slideToItem:function(e){var t=this;if(!t._state.animating){t._state.animating=!0;var i=t._state.currentIndex,a=e,s=$("#im-digits"),n=s.find(".im-digits__nums__crop"),d=s.find(".im-digits__nums__item").eq(a),_=s.find(".im-digits__pics__item").eq(t._getRealIndex(a)),o=s.find(".im-digits__text__item").eq(t._getRealIndex(a)),r=o.find(".im-digits__text__value"),l=o.find(".im-digits__text__desc"),c=s.find(".im-digits__nums__item").eq(i),m=s.find(".im-digits__pics__item").eq(t._getRealIndex(i)),f=s.find(".im-digits__text__item").eq(t._getRealIndex(i)),u=f.find(".im-digits__text__value"),v=f.find(".im-digits__text__desc"),g=s.find(".im-digits__about__item"),h=t._getDirection(e);switch(g.eq(t._getRealIndex(i)).removeClass("_active"),setTimeout(function(){g.eq(t._getRealIndex(a)).addClass("_active")},0),h){case"left":var I=d.clone(),C=d.offset().left-n.offset().left;I.addClass("_fixed").css({left:C}).appendTo(n),d.addClass("_hidden");var p=I.offset().left-r.offset().left;r.css({transform:"translateX("+p+"px)"}),v.addClass("_fadeOutLeft"),u.addClass("_fadeOutLeft"),setTimeout(function(){_.addClass("_active _cover _fadeInImage"),l.addClass("_fadeInRight"),r.addClass("_ready").css({transform:"translateX(0)"}),o.addClass("_active"),I.css({transform:"translateX(-"+p+"px)"}),t._moveNumsToItem(a)},0);break;case"right":I=c.clone(),C=u.offset().left-n.offset().left;I.addClass("_fixed").css({left:C}).appendTo(n),c.addClass("_hidden");p=n.offset().left-u.offset().left+parseFloat(c.css("margin-left"));v.addClass("_fadeOutRight"),u.addClass("_ready").css({transform:"translateX("+p+"px)"}),I.css({transform:"translateX("+p+"px)"}),t._moveNumsToItem(a),setTimeout(function(){_.addClass("_active _cover _fadeInImage"),l.addClass("_fadeInLeft"),r.addClass("_fadeInLeft"),o.addClass("_active")},0)}setTimeout(function(){m.removeClass("_active"),f.removeClass("_active"),v.removeClass("_fadeOutLeft _fadeOutRight"),u.removeClass("_ready _fadeOutLeft").attr("style",""),c.removeClass("_hidden"),_.removeClass("_cover _fadeInImage"),l.removeClass("_fadeInRight _fadeInLeft"),r.removeClass("_ready _fadeInLeft").attr("style",""),d.removeClass("_hidden"),I.remove(),t._state.animating=!1,t._state.currentIndex=a,t._rebaseAtEdges()},700)}},_moveNumsToItem:function(e){for(var t=$("#im-digits .im-digits__nums__item"),i=Math.min(e,this._getNumsCount()-1),a=0,s=0;s<=i;s++)a+=parseFloat(t.eq(s).width()),a+=parseFloat(t.eq(s).css("margin-left"));$("#im-digits .im-digits__nums__list").css({transform:"translateX(-"+a+"px)"})},_rebaseAtEdges:function(){var e=this,t=$("#im-digits"),i=t.find(".im-digits__nums__crop"),a=t.find(".im-digits__nums__item").last().prev().offset().left,s=i.offset().left+i.width(),n=e._state.currentIndex;(0==n||a<s)&&($("#im-digits").removeClass("_ready"),0==n?e._setInitialPosition():e._setRightRebasePos(),setTimeout(function(){$("#im-digits").addClass("_ready")},20))},_initImagerJs:function(){new Imager("#im-digits .im-digits__pics__item img",{availableWidths:[600,1e3],availablePixelRatios:[1,2],onImagesReplaced:function(){$(this.selector).each(function(){var e=$(this).attr("src");$(this).parent().css({"background-image":"url("+e+")"})})}})},_handleNumClick:function(e){var t=e.data.self;e.preventDefault();var i=$(this).index();t._slideToItem(i)},_handlePrevClick:function(e){var t=e.data.self;e.preventDefault();var i=t._state.currentIndex-1;t._slideToItem(i)},_handleNextClick:function(e){var t=e.data.self;e.preventDefault();var i=t._state.currentIndex+1;t._slideToItem(i)},_handleWindowResize:function(e){var t=e.data.self,i=t._state.currentIndex;t._moveNumsToItem(i)},_handleTouchStart:function(e){var t=e.data.self;t._state.touchStartX=e.originalEvent.touches[0].clientX,t._state.touchStartY=e.originalEvent.touches[0].clientX},_handleTouchMove:function(e){var t=e.data.self,i=t._state.touchStartX,a=t._state.touchStartY,s=i-e.originalEvent.touches[0].clientX,n=a-e.originalEvent.touches[0].clientY;if(100<Math.abs(s)&&Math.abs(s)>Math.abs(n)){if(0<s)var d=t._state.currentIndex+1;else d=t._state.currentIndex-1;t._slideToItem(d)}},_bindUI:function(){var e=this;$(document).on("click",".im-digits__nums__item",{self:e},e._handleNumClick),$(document).on("click",".im-digits__prev",{self:e},e._handlePrevClick),$(document).on("click",".im-digits__next",{self:e},e._handleNextClick),$(document).on("touchstart",".im-digits__center",{self:e},e._handleTouchStart),$(document).on("touchmove",".im-digits__center",{self:e},e._handleTouchMove),$(window).on("resize orientationchange",{self:e},e._handleWindowResize)},init:function(){var e=this;0!=$("#im-digits").length&&(e._initImagerJs(),e._cloneNumsItems(),e._setInitialPosition(),e._setVisibleState(),e._setReadyState(),e._bindUI())}},ImOverview={_state:{isUserActivityHandled:!1,currIndex:null},_initImagerJs:function(){new Imager("#im-overview .im-overview__bg__image img",{availableWidths:[600,1e3],availablePixelRatios:[1,2],onImagesReplaced:function(){$(this.selector).each(function(){var e=$(this).attr("src");$(this).parent().css({"background-image":"url("+e+")"})})}})},_startVideoLoading:function(){$("#im-overview video").each(function(){$(this)[0].load()})},_handleUserActivity:function(e){var t=e.data.self;t._state.isUserActivityHandled||Modernizr.video&&!Modernizr.lowbandwidth&&(t._state.isUserActivityHandled=!0,setTimeout(t._startVideoLoading.bind(t),100))},_handleCanPlayEvent:function(e){e.data.self;objectFitPolyfill(this),$(this).addClass("_active"),$(this)[0].play()},_handleLinkClick:function(e){var t=e.data.self;e.preventDefault();var i=$(this).closest(".im-overview__nav__item").index(),a=t._state.currIndex;if(i!=a){var s=$("#im-overview"),n=s.find(".im-overview__nav__item");n.eq(a).removeClass("_active"),n.eq(i).addClass("_active");var d=s.find(".im-overview__about__item");d.eq(a).removeClass("_active"),d.eq(i).addClass("_active");var _=s.find(".im-overview__nav__body");_.eq(a).collapse("hide"),_.eq(i).collapse("show");var o=s.find(".im-overview__bg__item");if(a<i)var r=-80,l=0;else r=0,l=-80;o.eq(i).removeClass("_animate").css({transform:"translateY("+r+"px)",opacity:0}),setTimeout(function(){o.eq(a).css({transform:"translateY("+l+"px)",opacity:0}),o.eq(i).addClass("_animate").css({transform:"translateY(-40px)",opacity:1})},20),t._state.currIndex=i}},_bindUI:function(){var e=this;$(".im-overview__bg__video").on("canplaythrough",{self:e},e._handleCanPlayEvent),$(document).one("click touchstart",{self:e},e._handleUserActivity),$(document).on("click",".im-overview__nav__link",{self:e},e._handleLinkClick)},init:function(){0!=$("#im-overview").length&&(this._initImagerJs(),this._bindUI(),$("body").trigger("click"))}},App={_isFontsReady:function(){return $("html").hasClass("wf-active")},_handleDOMReady:function(){var e=this,t=setInterval(function(){e._isFontsReady()&&(clearInterval(t),ImDigits.init(),ImOverview.init())},20)},_bindUI:function(){$(document).ready(this._handleDOMReady.bind(this))},init:function(){this._bindUI()}};App.init();
//# sourceMappingURL=main.min.js.map

/*!
 * THIS FILE IS GENERATED BY GULP PROJECT. 
 * NEVER CHANGE IT MANUALLY, OTHERWISE YOUR CHANGES 
 * CAN BE OVERWRITTEN. 
 * 
 * @description 
 * @repository git@bitbucket.org:ildar-meyker/html-barsgroup.git
 */
!function(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream){window.onload=function(){var e,t;e="* {cursor: pointer; }",(t=document.createElement("style")).type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(t)}}}();var ImDigits={_state:{currentIndex:null,touchStartX:null,touchStartY:null,animating:!1},_getRealIndex:function(e){return e%this._getRealCount()},_getNumsCount:function(){return $("#im-digits .im-digits__nums__item").length},_getRealCount:function(){return $("#im-digits .im-digits__pics__item").length},_getDirection:function(e){return this._state.currentIndex<e?"left":"right"},_setInitialPosition:function(){var e=this,t=e._getRealCount();e._state.currentIndex=t,e._moveNumsToItem(t)},_setRightRebasePos:function(){var e=this,t=e._getRealCount(),i=e._state.currentIndex-t;e._state.currentIndex=i,e._moveNumsToItem(i)},_setVisibleState:function(){$("#im-digits").addClass("_visible")},_setReadyState:function(){setTimeout(function(){$("#im-digits").addClass("_ready")},20)},_cloneNumsItems:function(){for(var e=$("#im-digits"),t=e.find(".im-digits__nums__crop"),i=e.find(".im-digits__nums__list"),n=e.find(".im-digits__nums__item"),s=t.width(),a=i.width(),d=Math.ceil(s/a)+1,l=0;l<d;l++)n.clone().appendTo(i)},_slideToItem:function(e){var t=this;if(!t._state.animating){t._state.animating=!0;var i=t._state.currentIndex,n=e,s=$("#im-digits"),a=s.find(".im-digits__nums__crop"),d=s.find(".im-digits__nums__item").eq(n),l=s.find(".im-digits__pics__item").eq(t._getRealIndex(n)),r=s.find(".im-digits__text__item").eq(t._getRealIndex(n)),o=r.find(".im-digits__text__value"),_=r.find(".im-digits__text__desc"),c=s.find(".im-digits__nums__item").eq(i),m=s.find(".im-digits__pics__item").eq(t._getRealIndex(i)),f=s.find(".im-digits__text__item").eq(t._getRealIndex(i)),u=f.find(".im-digits__text__value"),h=f.find(".im-digits__text__desc"),v=s.find(".im-digits__about__item"),g=t._getDirection(e);switch(v.eq(t._getRealIndex(i)).removeClass("_active"),setTimeout(function(){v.eq(t._getRealIndex(n)).addClass("_active")},0),g){case"left":var I=d.clone(),p=d.offset().left-a.offset().left;I.addClass("_fixed").css({left:p}).appendTo(a),d.addClass("_hidden");var w=I.offset().left-o.offset().left;o.css({transform:"translateX("+w+"px)"}),h.addClass("_fadeOutLeft"),u.addClass("_fadeOutLeft"),setTimeout(function(){l.addClass("_active _cover _fadeInImage"),_.addClass("_fadeInRight"),o.addClass("_ready").css({transform:"translateX(0)"}),r.addClass("_active"),I.css({transform:"translateX(-"+w+"px)"}),t._moveNumsToItem(n)},0);break;case"right":I=c.clone(),p=u.offset().left-a.offset().left;I.addClass("_fixed").css({left:p}).appendTo(a),c.addClass("_hidden");w=a.offset().left-u.offset().left+parseFloat(c.css("margin-left"));h.addClass("_fadeOutRight"),u.addClass("_ready").css({transform:"translateX("+w+"px)"}),I.css({transform:"translateX("+w+"px)"}),t._moveNumsToItem(n),setTimeout(function(){l.addClass("_active _cover _fadeInImage"),_.addClass("_fadeInLeft"),o.addClass("_fadeInLeft"),r.addClass("_active")},0)}setTimeout(function(){m.removeClass("_active"),f.removeClass("_active"),h.removeClass("_fadeOutLeft _fadeOutRight"),u.removeClass("_ready _fadeOutLeft").attr("style",""),c.removeClass("_hidden"),l.removeClass("_cover _fadeInImage"),_.removeClass("_fadeInRight _fadeInLeft"),o.removeClass("_ready _fadeInLeft").attr("style",""),d.removeClass("_hidden"),I.remove(),t._state.animating=!1,t._state.currentIndex=n,t._rebaseAtEdges()},700)}},_moveNumsToItem:function(e){for(var t=$("#im-digits .im-digits__nums__item"),i=Math.min(e,this._getNumsCount()-1),n=0,s=0;s<=i;s++)n+=parseFloat(t.eq(s).width()),n+=parseFloat(t.eq(s).css("margin-left"));$("#im-digits .im-digits__nums__list").css({transform:"translateX(-"+n+"px)"})},_rebaseAtEdges:function(){var e=$("#im-digits"),t=e.find(".im-digits__nums__crop"),i=e.find(".im-digits__nums__item").last().prev().offset().left,n=t.offset().left+t.width(),s=this._state.currentIndex;(0==s||i<n)&&($("#im-digits").removeClass("_ready"),0==s?this._setInitialPosition():this._setRightRebasePos(),setTimeout(function(){$("#im-digits").addClass("_ready")},20))},_initImagerJs:function(){new Imager("#im-digits .im-digits__pics__item img",{availableWidths:[600,1e3],availablePixelRatios:[1,2],onImagesReplaced:function(){$(this.selector).each(function(){var e=$(this).attr("src");$(this).parent().css({"background-image":"url("+e+")"})})}})},_handleNumClick:function(e){var t=e.data.self;e.preventDefault();var i=$(this).index();t._slideToItem(i)},_handlePrevClick:function(e){var t=e.data.self;e.preventDefault();var i=t._state.currentIndex-1;t._slideToItem(i)},_handleNextClick:function(e){var t=e.data.self;e.preventDefault();var i=t._state.currentIndex+1;t._slideToItem(i)},_handleWindowResize:function(e){var t=e.data.self,i=t._state.currentIndex;t._moveNumsToItem(i)},_handleTouchStart:function(e){var t=e.data.self;t._state.touchStartX=e.originalEvent.touches[0].clientX,t._state.touchStartY=e.originalEvent.touches[0].clientX},_handleTouchMove:function(e){var t=e.data.self,i=t._state.touchStartX,n=t._state.touchStartY,s=i-e.originalEvent.touches[0].clientX,a=n-e.originalEvent.touches[0].clientY;if(100<Math.abs(s)&&Math.abs(s)>Math.abs(a)){if(0<s)var d=t._state.currentIndex+1;else d=t._state.currentIndex-1;t._slideToItem(d)}},_bindUI:function(){var e=this;$(document).on("click",".im-digits__nums__item",{self:e},e._handleNumClick),$(document).on("click","#im-digits .im-digits__prev",{self:e},e._handlePrevClick),$(document).on("click","#im-digits .im-digits__next",{self:e},e._handleNextClick),$(document).on("touchstart",".im-digits__center",{self:e},e._handleTouchStart),$(document).on("touchmove",".im-digits__center",{self:e},e._handleTouchMove),$(window).on("resize orientationchange",{self:e},e._handleWindowResize)},init:function(){var e=this;0!=$("#im-digits").length&&(e._initImagerJs(),e._cloneNumsItems(),e._setInitialPosition(),e._setVisibleState(),e._setReadyState(),e._bindUI())}},ImOverview={_state:{isUserActivityHandled:!1,currIndex:null},_initImagerJs:function(){new Imager("#im-overview .im-overview__bg__image img",{availableWidths:[600,1e3],availablePixelRatios:[1,2],onImagesReplaced:function(){$(this.selector).each(function(){var e=$(this).attr("src");$(this).parent().css({"background-image":"url("+e+")"})})}})},_startVideoLoading:function(){$("#im-overview video").each(function(){$(this)[0].load()})},_handleUserActivity:function(e){var t=e.data.self;t._state.isUserActivityHandled||Modernizr.video&&!Modernizr.lowbandwidth&&(t._state.isUserActivityHandled=!0,setTimeout(t._startVideoLoading.bind(t),100))},_handleCanPlayEvent:function(e){e.data.self;objectFitPolyfill(this),$(this).addClass("_active"),$(this)[0].play()},_handleLinkClick:function(e){var t=e.data.self;e.preventDefault();var i=$(this).closest(".im-overview__nav__item").index(),n=t._state.currIndex;if(i!=n){var s=$("#im-overview"),a=s.find(".im-overview__nav__item");a.eq(n).removeClass("_active"),a.eq(i).addClass("_active");var d=s.find(".im-overview__about__item");d.eq(n).removeClass("_active"),d.eq(i).addClass("_active");var l=s.find(".im-overview__nav__body");l.eq(n).collapse("hide"),l.eq(i).collapse("show");var r=s.find(".im-overview__bg__item");if(n<i)var o=-80,_=0;else o=0,_=-80;r.eq(i).removeClass("_animate").css({transform:"translateY("+o+"px)",opacity:0}),setTimeout(function(){r.eq(n).css({transform:"translateY("+_+"px)",opacity:0}),r.eq(i).addClass("_animate").css({transform:"translateY(-40px)",opacity:1})},20),t._state.currIndex=i}},_bindUI:function(){var e=this;$(".im-overview__bg__video").on("canplaythrough",{self:e},e._handleCanPlayEvent),$(document).one("click touchstart",{self:e},e._handleUserActivity),$(document).on("click",".im-overview__nav__link",{self:e},e._handleLinkClick)},init:function(){0!=$("#im-overview").length&&(this._initImagerJs(),this._bindUI(),$("body").trigger("click"))}},ImSlider={_state:{currView:"lines",isUserActivityHandled:!1,maxListWidth:null,maxScrollLeft:null,lastRangeValue:null},_switchToGantView:function(){for(var e=Array(15).join("1.0|1.3|1.0|1.2|1.0|1.2|1.3|1.1|1.2|").split("|"),t=("0.8|0.1|0.5|"+Array(15).join("0.3|0.4|0.4|0.3|0.3|0.5|0.4|0.3|0.3|")).split("|"),i=function(){var t=[],i=0;$("#im-slider .im-slider__list").each(function(){var e=$.makeArray($(this).find(".im-slider__item")).reverse();i+=e.length,t.push(e)});var n=[],s=0;for(;s<i;)t.forEach(function(e){0!=e.length&&(n.push(e.pop()),s++)});return n}(),n=($(i[0]).outerHeight(),$(i[0]).outerWidth()),s=($("#im-slider .im-slider__scene").height(),Math.round(200)),a=[0,0,0],d=0,l=i.length;d<l;d++){var r=v(),o=$("#im-slider .im-slider__scroll"),_=parseInt($(i[d]).offset().top-o.offset().top),c=parseInt($(i[d]).offset().left+o.scrollLeft()),m=r*s+20,f=n*e[d],u=a[r]+t[d]*n;a[r]=u+f;var h="translate3d("+(u-c)+"px,"+(m-_)+"px,0)";$(i[d]).find(".im-slider__item__body").css({transform:h,width:f})}function v(){var i=1/0,n=0;return a.forEach(function(e,t){e<i&&(i=e,n=t)}),n}$("#im-slider .im-slider__scene").height(600),$("#im-slider").addClass("im-slider--gant-view")},_switchToLinesView:function(){$("#im-slider .im-slider__scene").height("auto"),$("#im-slider .im-slider__item__body").attr("style",""),$("#im-slider").removeClass("im-slider--gant-view")},_calcDimensions:function(){this._state.maxListWidth=this._getMaxListWidth(),this._state.maxScrollLeft=this._getMaxScrollLeft()},_getMaxListWidth:function(){var n=0;return $("#im-slider .im-slider__list").each(function(){var e=$(this).find(".im-slider__item").last(),t=$(this).offset().left,i=e.offset().left-t+e.width();n=Math.max(n,i)}),n},_getMaxScrollLeft:function(){var e=$("#im-slider .im-slider__scroll"),t=e.scrollLeft();e.scrollLeft(1e5);var i=e.scrollLeft();return e.scrollLeft(t),i},_setGridLinesWidth:function(){$("#im-slider .im-slider__line").width(this._state.maxListWidth)},_initImagerJs:function(){new Imager("#im-slider .im-slider__bg__image img",{availableWidths:[600,1e3],availablePixelRatios:[1,2],onImagesReplaced:function(){$(this.selector).each(function(){var e=$(this).attr("src");$(this).parent().css({"background-image":"url("+e+")"})})}})},_initRangeSlider:function(){var n=this,s=$("#im-slider .im-slider__range");s.find("input").rangeslider({polyfill:!1,onInit:function(){s.find(".rangeslider__handle").html("<i></i><i></i><i></i>")},onSlide:_.throttle(function(e,t){if(t!=n._state.lastRangeValue&&(n._state.lastRangeValue=t,s.find(".rangeslider").hasClass("rangeslider--active"))){var i=n._state.maxScrollLeft/1e3*t;$("#im-slider .im-slider__scroll").scrollLeft(i)}},50)})},_startVideoLoading:function(){$("#im-slider video").each(function(){$(this)[0].load()})},_handleUserActivity:function(e){var t=e.data.self;t._state.isUserActivityHandled||Modernizr.video&&!Modernizr.lowbandwidth&&(t._state.isUserActivityHandled=!0,setTimeout(t._startVideoLoading.bind(t),100))},_handleCanPlayEvent:function(e){e.data.self;objectFitPolyfill(this),$(this).addClass("_active")},_handleMouseOver:function(e){e.data.self;var t=$(this).find("video._active");t.length&&t[0].play()},_handleMouseOut:function(e){e.data.self;var t=$(this).find("video._active");t.length&&t[0].pause()},_handleWindowResize:function(e){var t=e.data.self;t._calcDimensions(),t._setGridLinesWidth()},_handleSliderScroll:function(e){var t=e.data.self,i=$("#im-slider .im-slider__scroll").scrollLeft(),n=Math.round(1e3*i/t._state.maxScrollLeft);$("#im-slider .im-slider__range input").val(n).change()},_handleToggleButton:function(e){var t=e.data.self;"lines"==t._state.currView?(t._switchToGantView(),t._state.currView="gant"):(t._switchToLinesView(),t._state.currView="lines")},_bindUI:function(){var e=this;$(".im-slider__scroll").on("scroll",{self:e},_.throttle(e._handleSliderScroll,50)),$(".im-slider__bg__video").on("canplaythrough",{self:e},e._handleCanPlayEvent),$(document).one("click touchstart",{self:e},e._handleUserActivity),$(document).on("mouseover",".im-slider__item",{self:e},e._handleMouseOver),$(document).on("mouseout",".im-slider__item",{self:e},e._handleMouseOut),$(document).on("click",".im-slider__toggle",{self:e},e._handleToggleButton),$(window).on("resize orientationchange",{self:e},e._handleWindowResize)},init:function(){var e=this;0!=$("#im-slider").length&&(e._calcDimensions(),e._setGridLinesWidth(),e._initRangeSlider(),e._initImagerJs(),e._bindUI(),$("body").trigger("click"))}},ImHeader={_adjustMoreItem:function(){var e=$("#im-header"),t=e.find(".im-header__menu__item--more");t.removeClass("--opened");var i=e.find(".im-header__menu__crop"),n=i.offset().top,s=i.find(".im-header__menu__item"),a=0;s.each(function(e){$(this).offset().top==n&&(a=e)});var d=s.eq(a),l=s.length-1;if(a<l){var r=d.offset().left-i.offset().left+parseInt(d.css("margin-right"))+d.width();t.addClass("--active").css({left:r+"px"}),e.find(".im-header__menu__down__body > div").each(function(e){a<e?$(this).show():$(this).hide()})}else t.removeClass("--active")},_handleMoreClick:function(e){e.data.self;e.preventDefault(),$("#im-header .im-header__menu__item--more").toggleClass("--opened")},_handleDocumentClick:function(e){e.data.self;var t=".im-header__menu__item--more";0==$(e.target).closest(t).length&&$("#im-header "+t).removeClass("--opened")},_handleWindowResize:function(e){e.data.self._adjustMoreItem()},_bindUI:function(){var e=this;$(document).on("click",{self:e},e._handleDocumentClick),$(document).on("click",".im-header__menu__item--more > a",{self:e},e._handleMoreClick),$(window).on("resize orientationchange",{self:e},e._handleWindowResize)},init:function(){0!=$("#im-header").length&&(this._adjustMoreItem(),this._bindUI())}},ImNews={_state:{sly:null,maxIndex:null,currIndex:0},_setSliderWidth:function(){var e=$("#im-wrapper"),t=$("#im-news .im-news__slider"),i=e.offset().left,n=e.width()-(t.offset().left-i);t.width(n)},_initSlider:function(){var e=$("#im-news"),t=e.find(".im-news__slider");e.find(".im-digits__prev"),e.find(".im-digits__next");this._state.maxIndex=e.find(".im-news__item").length-1,this._state.sly=new Sly(t[0],{horizontal:1,itemNav:"basic",speed:300,mouseDragging:1,touchDragging:1,releaseSwing:!0}).init()},_handleNextButton:function(e){var t=e.data.self;e.preventDefault(),t._state.currIndex+1>t._state.maxIndex||t._state.sly.toStart(++t._state.currIndex)},_handlePrevButton:function(e){var t=e.data.self;e.preventDefault(),t._state.currIndex-1<0||t._state.sly.toStart(--t._state.currIndex)},_handleWindowResize:function(e){var t=e.data.self;t._setSliderWidth(),t._state.sly.reload()},_handleMoveEnd:function(){},_bindUI:function(){var e=this;$(window).on("resize orientationchange",{self:e},e._handleWindowResize),$(document).on("click","#im-news .im-digits__next",{self:e},e._handleNextButton),$(document).on("click","#im-news .im-digits__prev",{self:e},e._handlePrevButton),e._state.sly.on("moveEnd",e._handleMoveEnd.bind(e))},init:function(){0!=$("#im-news").length&&(this._setSliderWidth(),this._initSlider(),this._bindUI())}},App={_isFontsReady:function(){return $("html").hasClass("wf-active")},_handleDOMReady:function(){var e=this,t=setInterval(function(){e._isFontsReady()&&(clearInterval(t),ImDigits.init(),ImOverview.init(),ImSlider.init(),ImHeader.init(),ImNews.init(),0==getScrollbarWidth()&&$("html").addClass("hidden-scrollbar"))},20)},_bindUI:function(){$(document).ready(this._handleDOMReady.bind(this))},init:function(){this._bindUI()}};App.init();
//# sourceMappingURL=main.min.js.map

/*!
 * THIS FILE IS GENERATED BY GULP PROJECT. 
 * NEVER CHANGE IT MANUALLY, OTHERWISE YOUR CHANGES 
 * CAN BE OVERWRITTEN. 
 * 
 * @description 
 * @repository git@bitbucket.org:ildar-meyker/html-barsgroup.git
 */
!function(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream){window.onload=function(){!function(e){var t=document.createElement("style");t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(t)}("* {cursor: pointer; }")}}}();var Overview={_elems:{$_:$(),$bgItems:$(),$aboutItems:$(),$navItems:$(),$navBodies:$()},_state:{isUserActivityHandled:!1,currIndex:0},_startVideoLoading:function(){this._elems.$_.find("video").each(function(){$(this)[0].load()})},_handleUserActivity:function(e){var t=e.data.self;t._state.isUserActivityHandled||Modernizr.video&&!Modernizr.lowbandwidth&&(t._state.isUserActivityHandled=!0,setTimeout(t._startVideoLoading.bind(t),100))},_handleCanPlayEvent:function(e){e.data.self;objectFitPolyfill(this),$(this).addClass("--active"),$(this)[0].play()},_handleLinkClick:function(e){var t=e.data.self;e.preventDefault();var i=$(this).closest(".overview__nav__item").index(),s=t._state.currIndex;if(i!=s){if(t._elems.$navItems.eq(s).removeClass("--active"),t._elems.$navItems.eq(i).addClass("--active"),t._elems.$aboutItems.eq(s).removeClass("--active"),t._elems.$aboutItems.eq(i).addClass("--active"),t._elems.$navBodies.eq(s).collapse("hide"),t._elems.$navBodies.eq(i).collapse("show"),s<i)var n=-80,a=0;else n=0,a=-80;t._elems.$bgItems.eq(i).addClass("overview__bg__item--frozen").css({transform:"translateY("+n+"px)",opacity:0}),setTimeout(function(){t._elems.$bgItems.eq(s).css({transform:"translateY("+a+"px)",opacity:0}),t._elems.$bgItems.eq(i).removeClass("overview__bg__item--frozen").css({transform:"translateY(-40px)",opacity:1})},20),t._state.currIndex=i}},_bindUI:function(){var e=this;$(".overview__bg__video").on("canplaythrough",{self:e},e._handleCanPlayEvent),e._elems.$_.on("click",".overview__nav__link",{self:e},e._handleLinkClick),$(document).one("click touchstart",{self:e},e._handleUserActivity)},init:function(){var e=this,t=$("#overview");t.length&&(e._elems.$_=t,e._elems.$bgItems=e._elems.$_.find(".overview__bg__item"),e._elems.$aboutItems=e._elems.$_.find(".overview__about__item"),e._elems.$navItems=e._elems.$_.find(".overview__nav__item"),e._elems.$navBodies=e._elems.$_.find(".overview__nav__body"),e._bindUI(),$("body").trigger("click"))}},GanttSlider={_cache:{gantt:{}},_elems:{$_:$(),$sandbox:$(),$inner:$(),$scroll:$(),$canvas:$(),$types:$(),$lines:$(),$items:$(),$ctrl:$(),$range:$(),$itemClone:$(),$typeClone:$()},_state:{isUserActivityHandled:!1,currentView:"gantt",groupedItems:[],randomItems:[],maxScrollLeft:0,lastRangeValue:0,lastScrollTop:0,timeout:null},_getGanttPattern:function(e,t){var i={canvasWidth:2440,canvasHeight:600,rectWidth:510,rectHeight:160,coords:[[60,310],[355,25],[775,200],[1070,370],[1435,100],[1760,410],[2115,120]]},s={};return s.canvasWidth=parseInt(i.canvasWidth/i.rectWidth*e),s.canvasHeight=parseInt(i.canvasHeight/i.rectHeight*t),s.coords=[],i.coords.forEach(function(e){s.coords.push([parseInt(e[0]/i.canvasWidth*s.canvasWidth),parseInt(e[1]/i.canvasHeight*s.canvasHeight)])}),s},_createElemsClones:function(){var e=this,t=e._elems.$items.eq(0).clone();t.appendTo(e._elems.$sandbox),e._elems.$itemClone=t;var i=e._elems.$types.eq(0).clone();i.appendTo(e._elems.$sandbox),e._elems.$typeClone=i},_sortItemsByGroup:function(){var s=[];this._elems.$items.each(function(e,t){var i=$(t).data("rel");void 0===s[i]&&(s[i]=[]),s[i].push(t)}),this._state.groupedItems=s},_sortItemsRandomly:function(){var i=0,s=[];this._state.groupedItems.forEach(function(e,t){s[t]=e.slice().reverse(),i+=e.length});for(var t=[],n=0;n<i;)s.forEach(function(e){0!=e.length&&(t.push(e.pop()),n++)});this._state.randomItems=t},_getGanttViewCalcs:function(){var e=this,t=e._elems.$itemClone.outerWidth(),i=e._elems.$itemClone.outerHeight(),s=t+"x"+i;if(!e._cache.gantt[s]){var l={canvas:{},items:[]},o=e._getGanttPattern(t,i),d=0;e._state.randomItems.forEach(function(e,t){var i=t%o.coords.length,s=Math.floor(t/o.coords.length),n=o.coords[i][0]+o.canvasWidth*s,a=o.coords[i][1];l.items[t]={left:n,top:a},d<n&&(d=n)}),l.canvas.width=d+t+o.coords[0][0],l.canvas.height=o.canvasHeight,e._cache.gantt[s]=l}return e._cache.gantt[s]},_switchToGanttView:function(){var e=this;e._elems.$_.addClass("gantt-slider--gantt-view"),e._elems.$sandbox.addClass("gantt-slider--gantt-view");var i=e._getGanttViewCalcs();e._state.randomItems.forEach(function(e,t){$(e).css({left:i.items[t].left,top:i.items[t].top})}),e._elems.$canvas.css({width:i.canvas.width,height:i.canvas.height}),e._state.currentView="gantt",e._updateScrollCalcs()},_switchToLinesView:function(){var i=this;i._elems.$_.removeClass("gantt-slider--gantt-view"),i._elems.$sandbox.removeClass("gantt-slider--gantt-view");var e=parseInt(i._elems.$inner.css("padding-left")),n=i._elems.$itemClone.outerWidth(),a=i._elems.$itemClone.outerHeight(),l=parseInt(i._elems.$itemClone.css("margin-bottom")),o=parseInt(i._elems.$itemClone.css("margin-right")),d=i._elems.$typeClone.width(),r=i._elems.$ctrl.offset().left,c=0,_=0,h=0;i._state.groupedItems.forEach(function(e,t){var s=c*(a+l);e.forEach(function(e,t){var i=r+d+t*(n+o);$(e).css({top:s,left:i}),_<i&&(_=i)}),i._elems.$types.filter('[data-rel="'+t+'"]').css({top:s,left:r}),i._elems.$lines.filter('[data-rel="'+t+'"]').css({top:s,left:r}),h<s&&(h=s),c++}),i._elems.$lines.css({width:_+n-r}),i._elems.$canvas.css({width:_+n+e,height:h+a+l}),i._state.currentView="lines",i._updateScrollCalcs()},_updateScrollCalcs:function(){var e=this._elems.$canvas.width()-$(window).width();this._elems.$range.toggleClass("gantt-slider__range--hidden",e<0),this._state.maxScrollLeft=e,this._updateHandlePosition()},_updateHandlePosition:function(){var e=this._elems.$scroll.scrollLeft(),t=Math.round(1e3*e/this._state.maxScrollLeft);this._elems.$range.find("input").val(t).change()},_initRangeSlider:function(){var s=this,n=$();s._elems.$range.find("input").rangeslider({polyfill:!1,onInit:function(){(n=s._elems.$range.find(".rangeslider")).find(".rangeslider__handle").html("<i></i><i></i><i></i>")},onSlide:function(e,t){if(t!=s._state.lastRangeValue&&(s._state.lastRangeValue=t,n.hasClass("rangeslider--active"))){var i=s._state.maxScrollLeft/1e3*t;s._elems.$scroll.scrollLeft(i)}}})},_startVideoLoading:function(){this._elems.$_.find("video").each(function(){$(this)[0].load()})},_handleWindowResize:function(e){var t=e.data.self;switch(t._state.currentView){case"gantt":t._switchToGanttView();break;case"lines":t._switchToLinesView()}},_handleToggleButton:function(e){var t=e.data.self;switch(e.preventDefault(),t._state.currentView){case"gantt":t._switchToLinesView();break;case"lines":t._switchToGanttView()}},_handleUserActivity:function(e){var t=e.data.self;t._state.isUserActivityHandled||Modernizr.video&&!Modernizr.lowbandwidth&&(t._state.isUserActivityHandled=!0,setTimeout(t._startVideoLoading.bind(t),100))},_handleCanPlayEvent:function(e){e.data.self;objectFitPolyfill(this),$(this).addClass("--active")},_handleMouseOver:function(e){e.data.self;var t=$(this).find("video.--active");t.length&&t[0].play()},_handleMouseOut:function(e){e.data.self;var t=$(this).find("video.--active");t.length&&t[0].pause()},_handleSliderScroll:function(e){this._updateHandlePosition()},_handleWindowScroll:function(e){var i=this;Modernizr.requestanimationframe&&Modernizr.hiddenscroll&&"gantt"==i._state.currentView&&(i._state.timeout&&window.cancelAnimationFrame(i._state.timeout),i._state.timeout=window.requestAnimationFrame(function(){var e=$(window).scrollTop(),t=i._state.lastScrollTop-e;scrollLeft=i._elems.$scroll.scrollLeft()-t,i._elems.$scroll.scrollLeft(scrollLeft),i._state.lastScrollTop=e}))},_bindUI:function(){var e=this;e._elems.$_.find("video").on("canplaythrough",{self:e},e._handleCanPlayEvent),e._elems.$_.on("mouseover",".gantt-slider__item",{self:e},e._handleMouseOver),e._elems.$_.on("mouseout",".gantt-slider__item",{self:e},e._handleMouseOut),e._elems.$_.on("click",".gantt-slider__toggle",{self:e},e._handleToggleButton),$(document).one("click touchstart",{self:e},e._handleUserActivity),$(window).on("resize",{self:e},e._handleWindowResize),e._elems.$scroll[0].addEventListener("scroll",e._handleSliderScroll.bind(e),!1),window.addEventListener("scroll",e._handleWindowScroll.bind(e),!1)},init:function(){var e=this,t=$("#gantt-slider");t.length&&(e._elems.$_=t,e._elems.$sandbox=$("#gantt-slider-sandbox"),e._elems.$inner=t.find(".page__inner").first(),e._elems.$scroll=t.find(".gantt-slider__scroll"),e._elems.$canvas=t.find(".gantt-slider__canvas"),e._elems.$types=t.find(".gantt-slider__type"),e._elems.$lines=t.find(".gantt-slider__line"),e._elems.$items=t.find(".gantt-slider__item"),e._elems.$ctrl=t.find(".gantt-slider__ctrl"),e._elems.$range=t.find(".gantt-slider__range"),e._createElemsClones(),e._sortItemsByGroup(),e._sortItemsRandomly(),e._switchToGanttView(),e._initRangeSlider(),e._elems.$_.removeClass("gantt-slider--frozen --loading"),e._bindUI(),$("body").trigger("click"))}},CitiesSlider={_cache:{gantt:{}},_elems:{$_:$(),$sandbox:$(),$scroll:$(),$canvas:$(),$items:$(),$ctrl:$(),$range:$(),$itemClone:$()},_state:{maxScrollLeft:0,lastRangeValue:0,lastZIndex:50,lastScrollTop:0,timeout:null},_getGanttPattern:function(e,t){var i={canvasWidth:2440,canvasHeight:600,rectWidth:510,rectHeight:160,coords:[[60,310],[355,25],[775,200],[1070,370],[1435,100],[1760,410],[2115,120]]},s={};return s.canvasWidth=parseInt(i.canvasWidth/i.rectWidth*e),s.canvasHeight=parseInt(i.canvasHeight/i.rectHeight*t),s.coords=[],i.coords.forEach(function(e){s.coords.push([parseInt(e[0]/i.canvasWidth*s.canvasWidth),parseInt(e[1]/i.canvasHeight*s.canvasHeight)])}),s},_createElemsClones:function(){var e=this._elems.$items.eq(0).clone();e.appendTo(this._elems.$sandbox),this._elems.$itemClone=e},_getGanttViewCalcs:function(){var e=this,t=e._elems.$itemClone.outerWidth(),i=e._elems.$itemClone.outerHeight(),s=t+"x"+i;if(!e._cache.gantt[s]){var l={canvas:{},items:[]},o=e._getGanttPattern(t,i),d=0;e._elems.$items.each(function(e,t){var i=e%o.coords.length,s=Math.floor(e/o.coords.length),n=o.coords[i][0]+o.canvasWidth*s,a=o.coords[i][1];l.items[e]={left:n,top:a},d<n&&(d=n)}),l.canvas.width=d+t+o.coords[0][0],l.canvas.height=o.canvasHeight,e._cache.gantt[s]=l}return e._cache.gantt[s]},_setItemsPositions:function(){var e=this,i=e._getGanttViewCalcs(),s=i.canvas.height/2,n=e._elems.$itemClone.outerHeight();e._elems.$items.each(function(e,t){i.items[e].top>s?$(t).css({left:i.items[e].left,bottom:i.canvas.height-n-i.items[e].top,top:"auto"}):$(t).css({left:i.items[e].left,top:i.items[e].top,bottom:"auto"})}),e._elems.$canvas.css({width:i.canvas.width,height:i.canvas.height}),e._updateScrollCalcs()},_updateScrollCalcs:function(){var e=this._elems.$canvas.width()-$(window).width();this._elems.$range.toggleClass("cities-slider__range--hidden",e<0),this._state.maxScrollLeft=e,this._updateHandlePosition()},_updateHandlePosition:function(){var e=this._elems.$scroll.scrollLeft(),t=Math.round(1e3*e/this._state.maxScrollLeft);this._elems.$range.find("input").val(t).change()},_initRangeSlider:function(){var s=this,n=$();s._elems.$range.find("input").rangeslider({polyfill:!1,onInit:function(){(n=s._elems.$range.find(".rangeslider")).find(".rangeslider__handle").html("<i></i><i></i><i></i>")},onSlide:function(e,t){if(t!=s._state.lastRangeValue&&(s._state.lastRangeValue=t,n.hasClass("rangeslider--active"))){var i=s._state.maxScrollLeft/1e3*t;s._elems.$scroll.scrollLeft(i)}}})},_handleSliderScroll:function(e){this._updateHandlePosition()},_handleItemMouseenter:function(e){var t=e.data.self;$(this).find(".cities-slider__item__collapse").stop().slideDown(),$(this).css({"z-index":++t._state.lastZIndex})},_handleItemMouseleave:function(e){e.data.self;$(this).find(".cities-slider__item__collapse").stop().slideUp()},_handleWindowResize:function(e){e.data.self._setItemsPositions()},_handleWindowScroll:function(e){var i=this;Modernizr.requestanimationframe&&Modernizr.hiddenscroll&&(i._state.timeout&&window.cancelAnimationFrame(i._state.timeout),i._state.timeout=window.requestAnimationFrame(function(){var e=$(window).scrollTop(),t=i._state.lastScrollTop-e;scrollLeft=i._elems.$scroll.scrollLeft()-t,i._elems.$scroll.scrollLeft(scrollLeft),i._state.lastScrollTop=e}))},_bindUI:function(){var e=this;e._elems.$_.on("mouseenter",".cities-slider__item",{self:e},e._handleItemMouseenter),e._elems.$_.on("mouseleave",".cities-slider__item",{self:e},e._handleItemMouseleave),$(window).on("resize",{self:e},e._handleWindowResize),e._elems.$scroll[0].addEventListener("scroll",e._handleSliderScroll.bind(e),!1),window.addEventListener("scroll",e._handleWindowScroll.bind(e),!1)},init:function(){var e=this,t=$("#cities-slider");t.length&&(e._elems.$_=t,e._elems.$sandbox=$("#cities-slider-sandbox"),e._elems.$scroll=t.find(".cities-slider__scroll"),e._elems.$canvas=t.find(".cities-slider__canvas"),e._elems.$items=t.find(".cities-slider__item"),e._elems.$ctrl=t.find(".cities-slider__ctrl"),e._elems.$range=t.find(".cities-slider__range"),e._createElemsClones(),e._setItemsPositions(),e._initRangeSlider(),e._elems.$_.removeClass("cities-slider--frozen --loading"),e._bindUI())}},SliderContent={_elems:{$_:$(),$wrapper:$(),$slider:$()},_handleWindowResize:function(e){e.data.self._elems.$slider.trigger("refresh.owl.carousel")},_handlePrevButton:function(e){var t=e.data.self;e.preventDefault(),t._elems.$slider.trigger("prev.owl.carousel")},_handleNextButton:function(e){var t=e.data.self;e.preventDefault(),t._elems.$slider.trigger("next.owl.carousel")},_bindUI:function(){var e=this;e._elems.$_.on("click",".js-slider-content-prev",{self:e},e._handlePrevButton),e._elems.$_.on("click",".js-slider-content-next",{self:e},e._handleNextButton),$(window).on("resize",{self:e},e._handleWindowResize)},init:function(){var e=this,t=$("#slider-content");t.length&&($("body").hasClass("is-admin")||(e._elems.$_=t,e._elems.$wrapper=t.find(".slider-content__wrapper"),e._elems.$slider=t.find(".owl-carousel"),e._elems.$slider.owlCarousel({items:1,dots:!1}),e._bindUI()))}},SliderDigits={_state:{currentIndex:null,touchStartX:null,touchStartY:null,animating:!1},_getRealIndex:function(e){return e%this._getRealCount()},_getNumsCount:function(){return $("#slider-digits .slider-digits__nums__item").length},_getRealCount:function(){return $("#slider-digits .slider-digits__pics__item").length},_getDirection:function(e){return this._state.currentIndex<e?"left":"right"},_setInitialPosition:function(){var e=this._getRealCount();this._state.currentIndex=e,this._moveNumsToItem(e)},_setRightRebasePos:function(){var e=this._getRealCount(),t=this._state.currentIndex-e;this._state.currentIndex=t,this._moveNumsToItem(t)},_setVisibleState:function(){$("#slider-digits").addClass("_visible")},_setReadyState:function(){setTimeout(function(){$("#slider-digits").addClass("_ready")},20)},_cloneNumsItems:function(){for(var e=$("#slider-digits"),t=e.find(".slider-digits__nums__crop"),i=e.find(".slider-digits__nums__list"),s=e.find(".slider-digits__nums__item"),n=t.width(),a=i.width(),l=Math.ceil(n/a)+1,o=0;o<l;o++)s.clone().appendTo(i)},_slideToItem:function(e){var t=this;if(!t._state.animating){t._state.animating=!0;var i=t._state.currentIndex,s=e,n=$("#slider-digits"),a=n.find(".slider-digits__nums__crop"),l=n.find(".slider-digits__nums__item").eq(s),o=n.find(".slider-digits__pics__item").eq(t._getRealIndex(s)),d=n.find(".slider-digits__text__item").eq(t._getRealIndex(s)),r=d.find(".slider-digits__text__value"),c=d.find(".slider-digits__text__desc"),_=n.find(".slider-digits__nums__item").eq(i),h=n.find(".slider-digits__pics__item").eq(t._getRealIndex(i)),f=n.find(".slider-digits__text__item").eq(t._getRealIndex(i)),u=f.find(".slider-digits__text__value"),m=f.find(".slider-digits__text__desc"),v=n.find(".slider-digits__about__item"),g=t._getDirection(e);switch(v.eq(t._getRealIndex(i)).removeClass("_active"),setTimeout(function(){v.eq(t._getRealIndex(s)).addClass("_active")},0),g){case"left":var p=l.clone(),w=l.offset().left-a.offset().left;p.addClass("_fixed").css({left:w}).appendTo(a),l.addClass("_hidden");var C=p.offset().left-r.offset().left;r.css({transform:"translateX("+C+"px)"}),m.addClass("_fadeOutLeft"),u.addClass("_fadeOutLeft"),setTimeout(function(){o.addClass("_active _cover _fadeInImage"),c.addClass("_fadeInRight"),r.addClass("_ready").css({transform:"translateX(0)"}),d.addClass("_active"),p.css({transform:"translateX(-"+C+"px)"}),t._moveNumsToItem(s)},20);break;case"right":p=_.clone(),w=u.offset().left-a.offset().left;p.addClass("_fixed").css({left:w}).appendTo(a),_.addClass("_hidden");C=a.offset().left-u.offset().left+parseFloat(_.css("margin-left"));m.addClass("_fadeOutRight"),u.addClass("_ready").css({transform:"translateX("+C+"px)"}),p.css({transform:"translateX("+C+"px)"}),t._moveNumsToItem(s),setTimeout(function(){o.addClass("_active _cover _fadeInImage"),c.addClass("_fadeInLeft"),r.addClass("_fadeInLeft"),d.addClass("_active")},20)}setTimeout(function(){h.removeClass("_active"),f.removeClass("_active"),m.removeClass("_fadeOutLeft _fadeOutRight"),u.removeClass("_ready _fadeOutLeft").attr("style",""),_.removeClass("_hidden"),o.removeClass("_cover _fadeInImage"),c.removeClass("_fadeInRight _fadeInLeft"),r.removeClass("_ready _fadeInLeft").attr("style",""),l.removeClass("_hidden"),p.remove(),t._state.animating=!1,t._state.currentIndex=s,t._rebaseAtEdges()},700)}},_moveNumsToItem:function(e){for(var t=$("#slider-digits .slider-digits__nums__item"),i=Math.min(e,this._getNumsCount()-1),s=0,n=0;n<=i;n++)s+=parseFloat(t.eq(n).width()),s+=parseFloat(t.eq(n).css("margin-left"));$("#slider-digits .slider-digits__nums__list").css({transform:"translateX(-"+s+"px)"})},_rebaseAtEdges:function(){var e=$("#slider-digits"),t=e.find(".slider-digits__nums__crop"),i=e.find(".slider-digits__nums__item").last().prev().offset().left,s=t.offset().left+t.width(),n=this._state.currentIndex;(0==n||i<s)&&($("#slider-digits").removeClass("_ready"),0==n?this._setInitialPosition():this._setRightRebasePos(),setTimeout(function(){$("#slider-digits").addClass("_ready")},20))},_handleNumClick:function(e){var t=e.data.self;e.preventDefault();var i=$(this).index();t._slideToItem(i)},_handlePrevClick:function(e){var t=e.data.self;e.preventDefault();var i=t._state.currentIndex-1;t._slideToItem(i)},_handleNextClick:function(e){var t=e.data.self;e.preventDefault();var i=t._state.currentIndex+1;t._slideToItem(i)},_handleWindowResize:function(e){var t=e.data.self,i=t._state.currentIndex;t._moveNumsToItem(i)},_handleTouchStart:function(e){var t=e.data.self;t._state.touchStartX=e.originalEvent.touches[0].clientX,t._state.touchStartY=e.originalEvent.touches[0].clientX},_handleTouchMove:function(e){var t=e.data.self,i=t._state.touchStartX,s=t._state.touchStartY,n=i-e.originalEvent.touches[0].clientX,a=s-e.originalEvent.touches[0].clientY;if(100<Math.abs(n)&&Math.abs(n)>Math.abs(a)){if(0<n)var l=t._state.currentIndex+1;else l=t._state.currentIndex-1;t._slideToItem(l)}},_bindUI:function(){var e=this;$(document).on("click",".slider-digits__nums__item",{self:e},e._handleNumClick),$(document).on("click","#slider-digits .js-slider-digits-prev",{self:e},e._handlePrevClick),$(document).on("click","#slider-digits .js-slider-digits-next",{self:e},e._handleNextClick),$(document).on("touchstart",".slider-digits__center",{self:e},e._handleTouchStart),$(document).on("touchmove",".slider-digits__center",{self:e},e._handleTouchMove),$(window).on("resize",{self:e},e._handleWindowResize)},init:function(){var e=this;0!=$("#slider-digits").length&&(e._cloneNumsItems(),e._setInitialPosition(),e._setVisibleState(),e._setReadyState(),e._bindUI())}},SliderTabs={_handleTabClick:function(e){e.data.self;e.preventDefault();var t=$(this).closest(".slider-tabs"),i=t.find(".slider-tabs__ctrl__item._active").index(),s=$(this).index();if(s!=i){var n=t.find(".slider-tabs__ctrl__item");n.eq(i).removeClass("_active"),n.eq(s).addClass("_active");var a=t.find(".slider-tabs__pics__item");if(i<s)var l=-80,o=0;else l=0,o=-80;a.eq(s).removeClass("_animate").css({transform:"translateY("+l+"px)",opacity:0}),setTimeout(function(){a.eq(i).css({transform:"translateY("+o+"px)",opacity:0}),a.eq(s).addClass("_animate").css({transform:"translateY(-40px)",opacity:1})},20)}},_bindUI:function(){$(document).on("click",".slider-tabs__ctrl__item",{self:this},this._handleTabClick)},init:function(){this._bindUI()}},Header={_adjustMoreItem:function(){var e=$("#header"),t=e.find(".header__menu__item--more");t.removeClass("--opened");var i=e.find(".header__menu__crop"),s=i.offset().top,n=i.find(".header__menu__item"),a=0;n.each(function(e){$(this).offset().top==s&&(a=e)});var l=n.eq(a),o=n.length-1;if(a<o){var d=l.offset().left-i.offset().left+parseInt(l.css("margin-right"))+l.width();t.addClass("--shown").css({left:d+"px"}),e.find(".header__menu__down__body > div").each(function(e){a<e?$(this).show():$(this).hide()})}else t.removeClass("--shown")},_handleMoreClick:function(e){e.data.self;e.preventDefault(),$("#header .header__menu__item--more").toggleClass("--opened")},_handleDocumentClick:function(e){e.data.self;var t=".header__menu__item--more";0==$(e.target).closest(t).length&&$("#header "+t).removeClass("--opened")},_handleWindowResize:function(e){e.data.self._adjustMoreItem()},_bindUI:function(){var e=this;$(document).on("click",{self:e},e._handleDocumentClick),$(document).on("click",".header__menu__item--more > a",{self:e},e._handleMoreClick),$(window).on("resize",{self:e},e._handleWindowResize)},init:function(){0!=$("#header").length&&0!=$("#header .header__menu").length&&(this._adjustMoreItem(),this._bindUI())}},News={_elems:{$_:$(),$slider:$()},_handleNextButton:function(e){var t=e.data.self;e.preventDefault(),t._elems.$slider.trigger("next.owl.carousel")},_handlePrevButton:function(e){var t=e.data.self;e.preventDefault(),t._elems.$slider.trigger("prev.owl.carousel")},_handleChangedEvent:function(e){var t=e.data.self,i="news__item--active",s=e.item.index;t._elems.$slider.find(".news__item").removeClass(i).eq(s).addClass(i)},_handleWindowResize:function(e){var t=e.data.self;setTimeout(function(){t._elems.$slider.trigger("refresh.owl.carousel")},500)},_bindUI:function(){var e=this;e._elems.$_.on("click",".js-news-next",{self:e},e._handleNextButton),e._elems.$_.on("click",".js-news-prev",{self:e},e._handlePrevButton),e._elems.$_.on("changed.owl.carousel",{self:e},e._handleChangedEvent),$(window).on("resize",{self:e},e._handleWindowResize)},init:function(){var e=$("#news");e.length&&(this._elems.$_=e,this._elems.$slider=e.find(".news__list"),this._bindUI(),this._elems.$slider.owlCarousel({loop:!0,autoWidth:!0,smartSpeed:500}))}},Form={_handleFocusOnInput:function(e){e.data.self;$(this).parent().addClass("_focused")},_handleBlurOnInput:function(e){e.data.self;$(this).parent().removeClass("_focused")},_handleInputChange:function(e){e.data.self;$(this).parent().toggleClass("_filled",!!$(this).val().length)},_handleWingsMouseover:function(e){e.data.self;$(this).addClass("_hover")},_handleWingsMouseout:function(e){e.data.self;$(this).removeClass("_hover")},_handleFileChange:function(e){e.data.self;var t=$(this).find('input[type="file"]')[0].files,i=$.map(t,function(e){return e.name});0==i.length?$(this).removeClass("_chosen"):$(this).addClass("_chosen").find(".js-form-file__names").html(i.join(", "))},_bindUI:function(){var e=this;$(document).on("focus",".js-form-input",{self:e},e._handleFocusOnInput),$(document).on("blur",".js-form-input",{self:e},e._handleBlurOnInput),$(document).on("change",".js-form-input",{self:e},e._handleInputChange),$(document).on("mouseover",".js-form-wings",{self:e},e._handleWingsMouseover),$(document).on("mouseout",".js-form-wings",{self:e},e._handleWingsMouseout),$(document).on("change",".js-form-file",{self:e},e._handleFileChange)},init:function(){autosize($("textarea")),$("input").iCheck(),this._bindUI()}};$(document).ready(function(){$(".jsTTasksSlider").owlCarousel({items:1,dots:!1,nav:!0,loop:!0,navText:[""],navContainer:".tTasks__nav"}),$(".jsTIntroducedSlider").owlCarousel({items:1,dots:!1,nav:!0,loop:!0,navText:[""],navContainer:".tIntroduced__nav"}),$(".jsTComponentsSlider").owlCarousel({items:1,dots:!1,nav:!0,loop:!0,navText:[""],navContainer:".tComponents__nav"})});var ScrollableTable={init:function(){var l=!1,e=Array.prototype.slice.call(document.querySelectorAll(".js-news-details-content table"));function o(e){var t=document.createElement("div");t.className="table-block";var i=document.createElement("div");i.className="table-gradient-wrapper js-srollable-table";var s=document.createElement("div");s.className="table-scroll-container js-scroll-container";var n,a=e.previousElementSibling;return e.parentNode.insertBefore(t,e),t.appendChild(i),i.appendChild(s),s.appendChild(e),a&&("h1"!==(n=a.nodeName.toLowerCase())&&"h2"!==n&&"h3"!==n&&"h4"!==n&&"h5"!==n&&"h6"!==n||t.insertBefore(a,i)),{tableGradientWrapper:i,tableScrollContainer:s}}window.wrapTable=o,e.forEach(function(e){function t(){n.scrollWidth>n.offsetWidth?(l=!0,a.classList.add("table-gradient-wrapper--right-gradient")):(l=!1,a.classList.remove("table-gradient-wrapper--right-gradient"))}function i(){var e=this.scrollLeft,t=this.scrollWidth,i=this.offsetWidth;0<e&&e<t-i?(a.classList.add("table-gradient-wrapper--right-gradient"),a.classList.add("table-gradient-wrapper--left-gradient")):0===e?a.classList.remove("table-gradient-wrapper--left-gradient"):0<e&&e===t-i&&a.classList.remove("table-gradient-wrapper--right-gradient")}var s=o(e),n=s.tableScrollContainer,a=s.tableGradientWrapper;n&&(new PerfectScrollbar(n,{maxScrollbarLength:105}),t(),function(i){var s,n,a=!1;i.addEventListener("mousedown",function(e){a=!0,i.classList.add("active"),s=e.pageX-i.offsetLeft,n=i.scrollLeft}),i.addEventListener("mouseleave",function(){a=!1,i.classList.remove("active")}),i.addEventListener("mouseup",function(){a=!1,i.classList.remove("active")}),i.addEventListener("mousemove",function(e){if(a){e.preventDefault();var t=e.pageX-i.offsetLeft-s;i.scrollLeft=n-t}})}(n),l&&n.addEventListener("scroll",i),window.addEventListener("resize",function(){n.removeEventListener("scroll",i),t(),l&&n.addEventListener("scroll",i)}))})}},NewsSlider={init:function(){Array.prototype.slice.call(document.querySelectorAll(".js-news-slider")).forEach(function(e){new Swiper(e,{slidesPerView:"auto",navigation:{nextEl:document.querySelector(".js-news-slider--next"),prevEl:document.querySelector(".js-news-slider--prev")},init:!1}).init()})}},NewsPhotoSlider={init:function(){Array.prototype.slice.call(document.querySelectorAll(".js-news-details-photo-slider")).forEach(function(e){var t,i=e.querySelector(".js-news-details-thumbnails-slider"),s=e.querySelector(".swiper-container");i&&(t=i.querySelector(".swiper-container")),s&&t&&new Swiper(s,{effect:"fade",speed:600,fadeEffect:{crossFade:!0},navigation:{nextEl:document.querySelector(".news-details__photo-slider-next"),prevEl:document.querySelector(".news-details__photo-slider-prev")},thumbs:{swiper:new Swiper(t,{slidesPerView:9,spaceBetween:15,threshold:10,watchSlidesVisibility:!0,watchSlidesProgress:!0,on:{progress:function(){this.isBeginning?i.classList.remove("gradient-left"):this.isEnd?i.classList.remove("gradient-right"):(i.classList.add("gradient-left"),i.classList.add("gradient-right"))}},breakpoints:{460:{slidesPerView:4,spaceBetween:10},600:{slidesPerView:6,spaceBetween:10},800:{slidesPerView:7,spaceBetween:15}}})}})})}},NewsToggles={init:function(){function e(e){if(e){var t=e.parentElement,i=e.nextElementSibling;if(!i)throw new Error("Отсутствует блок контента виджета соседней новости");var s=!1;function n(e){t.contains(e.target)||e.target===t||l()}function a(e){e&&e.preventDefault(),s||(t.classList.add("active"),s=!0,document.addEventListener("click",n),i.addEventListener("mouseleave",o))}function l(e){e&&e.preventDefault(),s&&(t.classList.remove("active"),s=!1,document.removeEventListener("click",n),i.removeEventListener("mouseleave",o))}function o(){l()}e.addEventListener("click",a),e.addEventListener("mouseenter",function(){a()})}}e(document.querySelector(".js-news-previous-article")),e(document.querySelector(".js-news-next-article"))}},NavBanner={_handleItemClick:function(e){e.data.self;e.preventDefault();var t=$(this).closest(".nav-banner").find(".nav-banner__line"),i=$(this).position().left;t.css({left:i}),$(this).siblings().removeClass("_active").end().addClass("_active")},_bindUI:function(){$(document).on("click",".nav-banner__item",{self:this},this._handleItemClick)},init:function(){this._bindUI()}},TechPromo={_handleCanPlayEvent:function(e){e.data.self;console.log(1),objectFitPolyfill(this),$(this).addClass("--active"),0==$(this).closest(".tech-promo__figure__item").index()&&$(this)[0].play()},_setActiveVideo:function(e){var t=$("#tech-promo .tech-promo__figure__item");t.filter(".--active").removeClass("--active").end().find("video")[0].pause(),t.eq(e).addClass("--active").end().find("video")[0].play()},_handleCircleEnter:function(e){var t=e.data.self;e.preventDefault();var i=$(this).data("index");t._setActiveVideo(i)},_handleCircleLeave:function(e){var t=e.data.self;e.preventDefault(),t._setActiveVideo(0)},_bindUI:function(){var e=this;$("#tech-promo video").on("canplaythrough",{self:e},e._handleCanPlayEvent),$("#tech-promo .tech-promo__circle").on("mouseenter",{self:e},e._handleCircleEnter),$("#tech-promo .tech-promo__circle").on("mouseleave",{self:e},e._handleCircleLeave)},init:function(){var e=$("#tech-promo");0!=e.length&&(e.find(".tech-promo__orbit").addClass("--active"),setTimeout(function(){e.find(".tech-promo__point").addClass("--active")},2e3),setTimeout(function(){e.find(".tech-promo__center").addClass("--active")},3700),setTimeout(function(){e.find(".tech-promo__circle").addClass("--active")},4500),this._bindUI())}},about={init:function(){this.variables(),this.attachEvents()},variables:function(){this.document=$(document),this.window=$(window),this.body=$("body"),this.isMobile=!1},attachEvents:function(){var e=this;e.document.ready(function(){e.window.width()<=576&&(e.isMobile=!0),e.isMobile?e.initGeo():$(".iGeo__map img").on("load",function(){e.initGeo()}),void 0!==$(".iDigits-slides.owl-carousel")&&$(".iDigits-slides.owl-carousel").length&&e.initDigits(),void 0!==$(".iLeadership")&&$(".iLeadership").length&&e.initLeadership()}),e.window.resize(function(){e.window.width()<=576?e.isMobile=!0:e.isMobile=!1})},initGeo:function(){var i=this,e=i.isMobile?200:63,s=$(".iGeo__map").height()+e,n=$(".iGeo__map").width();$(".iGeo__items").width(i.isMobile?"100%":$(".iGeo__map img").width()),$(".iGeo__item").each(function(){var e=0,t=0;0<$(this).data("top")&&(e=$(this).data("top")/s*100),0<$(this).data("left")&&(t=$(this).data("left")/n*100+.75),i.isMobile&&(e=Math.max(0,e-40)),$(this).stop().animate({top:e+"%",left:t+"%"},1e3).addClass($(".iGeo__items").data("active"))})},initDigits:function(){var t=this;if($(".iDigits-slides.owl-carousel").owlCarousel({nav:!1,dots:!1,items:1,auto:!1,responsive:{568:{nav:!0}}}).on("changed.owl.carousel",function(e){$(".iDigits-values__item").removeClass($(".iDigits-values").data("active")),$(".iDigits-values__item").eq(e.item.index).addClass($(".iDigits-values").data("active"))}),$(".iDigits-values__item").eq(0).addClass($(".iDigits-values").data("active")),$(".iDigits-values__item").click(function(){$(".iDigits-values__item").removeClass($(".iDigits-values").data("active")),$(this).addClass($(".iDigits-values").data("active"));var e=t.isMobile?$(this).parent().index():$(this).index();$(".iDigits .owl-carousel").trigger("to.owl.carousel",e)}),t.isMobile&&void 0!==$(".iDigits-values.owl-carousel")&&$(".iDigits-values.owl-carousel").length)$(".iDigits-values.owl-carousel").owlCarousel({nav:!1,dots:!1,auto:!1,autoWidth:!0})},initLeadership:function(){var t=this;if(void 0!==$(".iLeadership-item")&&0!=$(".iLeadership-item").length){var e=$(".iLeadership-item").eq(0).height();$(".iLeadership-item").width(.8*e),$(".iLeadership .button").click(function(e){e.preventDefault(),t.isMobile&&($(this).hasClass("opened")?($(".iLeadership .page__center").removeClass("opened"),$(this).removeClass("opened").children(".button-default__text").text("Показать еще"),$(this).children("i").show()):($(".iLeadership .page__center").addClass("opened"),$(this).addClass("opened").children(".button-default__text").text("Скрыть"),$(this).children("i").hide()))}),$("#leadershipModal").iziModal({overlayColor:"rgba(0, 0, 0, 0.8)",width:912,padding:45,radius:0,overlayClose:!1,onOpening:function(e){var t=e.$element,i=t.find(".iLeadership-modal__left"),s=t.find(".iLeadership-modal__right");$.ajax({url:"/json/leadership.json",dataType:"json",beforeSend:function(){t.addClass("--loading"),i.empty(),s.empty()},success:function(e){setTimeout(function(){t.removeClass("--loading")},500),e.image&&i.append($("<img />").attr("src",e.image)),e.name&&s.append($("<p/>").addClass("iLeadership-modal__name").text(e.name)),e.position&&s.append($("<p/>").addClass("iLeadership-modal__position").text(e.position)),e.content.length&&e.content.forEach(function(e){e.title&&s.append($("<p/>").addClass("iLeadership-modal__title").text(e.title)),e.text&&s.append($("<div/>").addClass("iLeadership-modal__text").html(e.text))})}})}}),$("#leadershipModal .iziModal-close").click(function(e){e.preventDefault(),$("#leadershipModal").iziModal("close")}),$(".iLeadership-item").click(function(e){e.preventDefault(),$("#leadershipModal").iziModal("open")})}}};void 0!==$("#about-slider")&&$("#about-slider").length&&about.init();var AboutSlider={_GANTT_ITEM_WIDTH:510,_GANTT_SCENE_HEIGHT:600,_GANTT_EDGE_OFFSET:60,_PATTERN_ITEMS:[[310,60],[25,355],[200,775],[370,1070],[100,1435],[410,1760],[120,2115]],_PATTERN_WIDTH:2440,_state:{randomItems:[],isUserActivityHandled:!1,isGanttView:!1,savedSceneHeight:null,maxScrollLeft:null,lastRangeValue:null},_makeScrollCalcs:function(){var e=this,t=$("#about-slider .gantt-slider__scroll"),i=$("#about-slider .gantt-slider__line"),s=i.offset().left+t.scrollLeft();if(e._state.isGanttView)var n=(l=e._getGanttItemLeftPos(e._state.randomItems.length-1)-s+e._GANTT_ITEM_WIDTH+e._GANTT_EDGE_OFFSET)+s-$(window).width();else{var a=0;i.each(function(){var e=$(this).find(".gantt-slider__item").last(),t=e.offset().left-s+e.width();a=Math.max(a,t)});var l=a,o=parseInt($("#about-slider .gantt-slider__item").last().css("margin-right"));n=l+s+o-$(window).width()}$("#about-slider .gantt-slider__grid").width(l),n<0&&(n=0),e._state.maxScrollLeft=n},_initRangeSlider:function(){var s=this,n=$("#about-slider .gantt-slider__range");n.find("input").rangeslider({polyfill:!1,onInit:function(){n.find(".rangeslider__handle").html("<i></i><i></i><i></i>")},onSlide:function(e,t){if(t!=s._state.lastRangeValue&&(s._state.lastRangeValue=t,n.find(".rangeslider").hasClass("rangeslider--active"))){s._state.maxScrollLeft=$("#about-slider .iScroll").width()-$("#about-slider .iScroll").width()/$("#about-slider .iScroll").children().length;var i=s._state.maxScrollLeft/1e3*t;$("#about-slider .gantt-slider__scroll").scrollLeft(i)}}})},_startVideoLoading:function(){$("#gantt-slider video").each(function(){$(this)[0].load()})},_handleUserActivity:function(e){var t=e.data.self;t._state.isUserActivityHandled||Modernizr.video&&!Modernizr.lowbandwidth&&(t._state.isUserActivityHandled=!0,setTimeout(t._startVideoLoading.bind(t),100))},_handleCanPlayEvent:function(e){e.data.self;objectFitPolyfill(this),$(this).addClass("_active")},_handleMouseOver:function(e){e.data.self;var t=$(this).find("video._active");t.length&&t[0].play()},_handleMouseOut:function(e){e.data.self;var t=$(this).find("video._active");t.length&&t[0].pause()},_handleWindowResize:function(e){e.data.self._makeScrollCalcs()},_handleSliderScroll:function(e){var t=e.data.self,i=$("#gantt-slider .gantt-slider__scroll").scrollLeft(),s=Math.round(1e3*i/t._state.maxScrollLeft);$("#gantt-slider .gantt-slider__range input").val(s).change()},_handleToggleButton:function(e){var t=e.data.self;t._state.isGanttView?t._switchToLinesView():t._switchToGanttView()},_bindUI:function(){var e=this;$(".gantt-slider__scroll").on("scroll",{self:e},e._handleSliderScroll),$(".gantt-slider__bg__video").on("canplaythrough",{self:e},e._handleCanPlayEvent),$(document).one("click touchstart",{self:e},e._handleUserActivity),$(document).on("mouseover",".gantt-slider__item",{self:e},e._handleMouseOver),$(document).on("mouseout",".gantt-slider__item",{self:e},e._handleMouseOut),$(document).on("click",".gantt-slider__toggle",{self:e},e._handleToggleButton),$(window).on("resize orientationchange",{self:e},e._handleWindowResize)},init:function(){0==$("#about-slider").length||$(window).width()<=576||(this._initRangeSlider(),$("body").trigger("click"))}},NavMobile={_state:{isOpened:!1},_open:function(){this._state.isOpened||($("body").addClass("page__locked"),$("#nav-mobile").addClass("_active"),this._state.isOpened=!0)},_close:function(){this._state.isOpened&&($("body").removeClass("page__locked"),$("#nav-mobile").removeClass("_active"),this._state.isOpened=!1)},_handleOpenButton:function(e){var t=e.data.self;e.preventDefault(),t._open()},_handleCloseButton:function(e){var t=e.data.self;e.preventDefault(),t._close()},_handleMatchMedia:function(e){e.matches||this._close()},_bindUI:function(){var e=this;$(document).on("click",".js-nav-mobile-open",{self:e},e._handleOpenButton),$(document).on("click",".js-nav-mobile-close",{self:e},e._handleCloseButton),window.matchMedia("(max-width: 950px)").addListener(e._handleMatchMedia.bind(e))},init:function(){this._bindUI()}},App={_handleDOMReady:function(){AboutSlider.init(),GanttSlider.init(),CitiesSlider.init(),SliderContent.init(),SliderDigits.init(),SliderTabs.init(),Header.init(),News.init(),Form.init(),ScrollableTable.init(),NewsSlider.init(),NewsPhotoSlider.init(),NewsToggles.init(),NavBanner.init(),TechPromo.init(),Overview.init(),NavMobile.init()},_handleWindowLoad:function(){setTimeout(function(){$("#hello").removeClass("hello--active"),$("body").removeClass("page__locked")},200)},_bindUI:function(){$(document).ready(this._handleDOMReady.bind(this)),$(window).on("load",this._handleWindowLoad.bind(this))},init:function(){this._bindUI()}};App.init();
//# sourceMappingURL=main.min.js.map
